{"version":3,"sources":["components/Common/Labels/index.tsx","Utils/common.ts","state/modules/students/d/Family.ts","state/modules/students/d/Student.ts","state/modules/students/students.constants.ts","state/modules/students/students.reducer.ts","state/modules/user/user.constants.ts","state/modules/user/user.ts","state/reducers.ts","state/index.tsx","state/modules/students/students.actions.ts","controllers/search.controller.ts","components/SearchBox/index.tsx","controllers/user.controller.ts","components/Common/Select/index.tsx","components/SelectUser/index.tsx","state/modules/user/user.actions.ts","API/students.ts","controllers/students.controller.ts","controllers/addStudent.controller.ts","components/Common/Button/index.tsx","components/AddStudentRow/index.tsx","components/StudentRow/index.tsx","components/StudentRow/StudentTitleRow.tsx","components/StudentList/index.tsx","controllers/modal.controller.ts","controllers/nationality.controller.ts","controllers/student.controller.ts","components/Common/Block/index.tsx","components/Common/DatePicker/index.tsx","components/Common/ErrorBox/index.tsx","components/Common/Input/index.tsx","components/Common/Modal/index.tsx","controllers/family.controller.ts","components/AddFamilyRow/index.tsx","components/FamilyEditor/index.tsx","components/FamilyRow/index.tsx","components/FamilyList/index.tsx","components/StudentModal/index.tsx","App.tsx","index.tsx","components/StudentRow/studentRow.module.scss","components/Common/Modal/modal.module.scss","components/StudentModal/studentModal.module.scss","components/FamilyRow/familyRow.module.scss","App.module.scss","components/Common/Button/button.module.scss","components/Common/Block/block.module.scss","components/Common/ErrorBox/errorBox.module.scss","components/FamilyList/familyList.module.scss","components/Common/Select/select.module.scss","components/AddStudentRow/addStudentRow.module.scss","components/AddFamilyRow/addFamilyRow.module.scss","components/Common/Labels/label.module.scss","components/SearchBox/SearchBox.module.scss","components/SelectUser/selectUser.module.scss","components/StudentList/studentList.module.scss","components/Common/DatePicker/datePicker.module.scss","components/Common/Input/input.module.scss","components/FamilyEditor/familyEditor.module.scss"],"names":["Label","props","label","className","classes","join","defaultProps","getRandomId","Math","floor","random","formatDateValue","date","format","Date","relationOptions","value","Family","ID","firstName","lastName","dateOfBirth","nationality","relationship","draft","this","isFamilyValid","family","messages","push","valid","Student","approved","ACTION_GET_NATIONALITIES","ACTION_SET_SEARCH","ACTION_ADD_STUDENT_DRAFT","ACTION_HIDE_ADD_STUDENT_MODAL","ACTION_GET_STUDENTS","ACTION_POST_STUDENT","ACTION_PUT_STUDENT","ACTION_SELECT_STUDENT","ACTION_SET_STUDENT_DETAIL","ACTION_GET_STUDENT_NATIONALITY","ACTION_GET_FAMILY","ACTION_ADD_FAMILY_DRAFT","ACTION_SET_FAMILY_DETAIL","ACTION_GET_FAMILY_NATIONALITY","ACTION_SET_APPROVE_STUDENT","ACTION_SET_REJECT_STUDENT","getStudentIndex","students","findIndex","s","studentsReducer","state","action","type","nationalities","payload","searchQuery","fetching","selectedStudentID","studentID","newStudent","length","filter","student","newFamily","selectedFamilyID","selectedFamilyIndex","f","ACTION_SET_USERTYPE","userTypes","INITIAL_STATE_USER","user","userReducer","console","log","GLOBAL_INITIAL_STATE","studentsData","userData","StateContext","createContext","dispatch","StateProvider","children","useReducer","reducers","Provider","useStateValue","useContext","getStudentNationality","setStudentDetails","setFamilyDetails","useSearch","setSearch","e","SearchBox","input","placeholder","onChange","target","React","memo","useUser","isDisabled","isRegistar","userType","Select","options","required","title","name","disabled","FormControl","fullWidth","select","InputLabel","shrink","id","labelId","event","variant","map","o","MenuItem","SelectUser","userOptions","u","container","API_BASE_URL","getStudents","url","axios","get","then","d","data","StudentActions","getNationalities","getFamily","postStudent","post","putStudent","put","useStudents","useEffect","visibleStudents","parseInt","toLowerCase","indexOf","useAddStudent","addStudentDraft","updateStudent","Promise","resolveStudent","all","resolveFamily","familyReq","postFamily","putFamily","familyID","putFamilyNationality","putStudentNationality","Button","submit","onClick","mini","error","form","undefined","buttonClasses","button","AddStudentRow","addButton","StudentRow","prop","approveIcon","status","dob","actions","StudentTitleRow","titleContainer","StudentList","useModal","hideModal","useNationality","nationalityOptions","n","Title","useStudent","find","Block","blockClasses","block","body","DatePicker","TextField","InputLabelProps","datePicker","inputProps","min","max","pattern","ErrorBox","Input","v","toISOString","split","tClasses","root","Modal","open","onClose","modalClasses","modal","underlay","close","useFamily","selectedStudent","useState","setSelectedFamilyID","selectedFamily","addFamily","AddFamilyRow","FamilyEditor","markError","onInputChange","key","fValue","familyUpdate","FamilyRow","oc","containerClasses","FamilyList","addEnabled","allowAdd","list","editor","StudentModal","errorMessages","setErrorMessages","onSubmit","useCallback","preventDefault","fields","familyValid","isStudentValid","studentNew","setApproveStudent","setRejectStudent","App","app","searchContainer","ReactDOM","render","document","getElementById","module","exports"],"mappings":"2PAQA,SAASA,EAAMC,GACb,IAAQC,EAA0BD,EAA1BC,MAAR,EAAkCD,EAAnBE,iBAAf,MAA2B,GAA3B,EACA,OACE,qBAAKA,UAAW,CAACA,EAAWC,IAAQF,OAAOG,KAAK,KAAhD,SAAuDH,IAI3DF,EAAMM,aAAe,CACnBH,UAAW,IAGEH,Q,gCCfFO,EAAc,kBAAMC,KAAKC,MAAsB,IAAhBD,KAAKE,WAEpCC,EAAkB,SAACC,GAAD,OAAkBC,YAAOD,EAAO,IAAIE,KAAKF,GAAQ,IAAIE,KAAQ,e,gBCC/EC,EAAkB,CAC7B,CAAEC,MAAO,SAAUd,MAAO,UAC1B,CAAEc,MAAO,UAAWd,MAAO,WAC3B,CAAEc,MAAO,QAASd,MAAO,SACzB,CAAEc,MAAO,OAAQd,MAAO,SAGLe,E,aAenB,aAES,IAFGC,EAEJ,uDAFSX,IAET,yDAAJ,GAAI,IADNY,iBACM,MADM,GACN,MADUC,gBACV,MADqB,GACrB,MADyBC,mBACzB,MADuCV,IACvC,MAD0DW,mBAC1D,MADwE,KACxE,MAD8EC,oBAC9E,MAD6FR,EAAgB,GAAGC,MAChH,MADuHQ,aACvH,kCAhBRN,QAgBQ,OAdRC,eAcQ,OAZRC,cAYQ,OAVRC,iBAUQ,OARRC,iBAQQ,OANRC,kBAMQ,OAJRC,OAAiB,EAKfC,KAAKP,GAAKA,EACVO,KAAKN,UAAYA,EACjBM,KAAKL,SAAWA,EAChBK,KAAKJ,YAAcA,EACnBI,KAAKH,YAAcA,EACnBG,KAAKF,aAAeA,EACpBE,KAAKD,MAAQA,KAIJE,EAAgB,SAACC,GAC5B,IAAMC,EAAoB,GAkB1B,OAhBKD,EAAOR,WACVS,EAASC,KAAK,8BAEXF,EAAOP,UACVQ,EAASC,KAAK,6BAEXF,EAAON,aACVO,EAASC,KAAK,uCAEXF,EAAOL,aACVM,EAASC,KAAK,qCAEXF,EAAOJ,cACVK,EAASC,KAAK,sCAGT,CACLC,QAASH,EAAOR,aAAeQ,EAAOP,YAAcO,EAAON,eAAiBM,EAAOL,eAAiBK,EAAOJ,aAC3GK,aC5DiBG,E,aAiBnB,aAES,IAFGb,EAEJ,uDAFgB,EAEhB,yDAAJ,GAAI,IADNC,iBACM,MADM,GACN,MADUC,gBACV,MADqB,GACrB,MADyBC,mBACzB,MADuCV,IACvC,MAD0DW,mBAC1D,MADwE,KACxE,MAD8EK,cAC9E,MADuF,GACvF,MAD2FH,aAC3F,kCAlBRN,QAkBQ,OAhBRC,UAAoB,GAgBZ,KAdRC,SAAmB,GAcX,KAZRC,YAAsB,GAYd,KAVRM,OAAmB,GAUX,KARRL,iBAQQ,OANRE,OAAgB,EAMR,KAJRQ,SAA0B,KAKxBP,KAAKP,GAAKA,EACVO,KAAKN,UAAYA,EACjBM,KAAKL,SAAWA,EAChBK,KAAKJ,YAAcA,EACnBI,KAAKE,OAASA,EACdF,KAAKH,YAAcA,EACnBG,KAAKD,MAAQA,KC7BJS,EAA2B,2BAC3BC,EAAoB,oBAEpBC,EAA2B,2BAC3BC,EAAgC,gCAEhCC,EAAsB,sBAItBC,EAAsB,sBACtBC,EAAqB,qBAErBC,EAAwB,wBACxBC,EAA4B,4BAC5BC,EAAiC,iCAGjCC,EAAoB,oBACpBC,EAA0B,0BAC1BC,EAA2B,2BAC3BC,EAAgC,gCAOhCC,EAA6B,6BAC7BC,EAA4B,4BCVnCC,EAAkB,SAACC,EAAoBhC,GAArB,OAAmCgC,EAASC,WAAU,SAACC,GAAD,OAAOA,EAAElC,KAAOA,MAEvF,SAASmC,EAAgBC,EAAoBC,GAClD,OAAQA,EAAOC,MACb,KAAKvB,EACH,OAAO,2BACFqB,GADL,IAEEG,cAAeF,EAAOG,UAG1B,KAAKxB,EACH,OAAO,2BACFoB,GADL,IAEEK,YAAaJ,EAAOG,UAGxB,KAAKrB,EACH,OAAO,2BACFiB,GADL,IAEEM,UAAU,EACVV,SAAUK,EAAOG,UAGrB,KAAKlB,EACH,OAAO,2BACFc,GADL,IAEEO,kBAAmBN,EAAOG,UAG9B,KAAKjB,EACH,IAAQS,EAAgCI,EAAhCJ,SAAUW,EAAsBP,EAAtBO,kBAIlB,OAH0B,OAAtBA,IACFX,EAASD,EAAgBC,EAAUW,IAAsBN,EAAOG,SAE3D,2BACFJ,GADL,IAEEJ,aAGJ,KAAKP,EACH,IAAQO,EAAaI,EAAbJ,SAER,OADAA,EAASD,EAAgBC,EAAUK,EAAOG,QAAQI,YAAYnC,OAAS4B,EAAOG,QAAQ/B,OAC/E,2BACF2B,GADL,IAEEJ,aAGJ,KAAKX,EACH,IAAQW,EAAaI,EAAbJ,SAGR,OAFgBA,EAASD,EAAgBC,EAAUK,EAAOG,QAAQxC,KAC1DM,OAAQ,EACT,2BACF8B,GADL,IAEEJ,aAIJ,KAAKZ,EACH,IAAQY,EAAaI,EAAbJ,SACR,OAAO,2BACFI,GADL,IAEEJ,SAAS,GAAD,mBAAMA,GAAN,CAAgBK,EAAOG,YAGnC,KAAKvB,EACH,IAAQe,EAAaI,EAAbJ,SAEFa,EAAa,IAAIhC,EADT,EACwB,CAAEP,OAAO,IACzCF,EAAcgC,EAAMG,cAAcO,QAAUV,EAAMG,cAAc,GAItE,OAHInC,IACFyC,EAAWzC,YAAcA,GAEpB,2BACFgC,GADL,IAEEO,kBARY,EASZX,SAAS,GAAD,mBAAMA,GAAN,CAAgBa,MAG5B,KAAK3B,EACH,IAAQc,EAAaI,EAAbJ,SACR,OAAO,2BACFI,GADL,IAEEO,kBAAmB,KACnBX,SAAUA,EAASe,QAAO,SAACb,GAAD,OAAQA,EAAE5B,WAIxC,KAAKoB,EACH,IAAQM,EAAgCI,EAAhCJ,SAAUW,EAAsBP,EAAtBO,kBACZvC,EAAcgC,EAAMG,cAAcO,QAAUV,EAAMG,cAAc,GACtE,GAA0B,OAAtBI,EAA4B,CAC9B,IAAMK,EAAUhB,EAASD,EAAgBC,EAAUW,IAC7CM,EAAY,IAAIlD,EAAOV,IAAe,CAAEiB,OAAO,IACjDF,IACF6C,EAAU7C,YAAcA,GAE1B4C,EAAQvC,OAAOE,KAAKsC,GACpBjB,EAASD,EAAgBC,EAAUW,IAAsBK,EAG3D,OAAO,2BACFZ,GADL,IAEEJ,aAIJ,KAAKL,EACH,IAAQK,EAAgCI,EAAhCJ,SAAUW,EAAsBP,EAAtBO,kBAClB,GAA0B,OAAtBA,EAA4B,CAC9B,IAAQlC,EAAWuB,EAASD,EAAgBC,EAAUW,IAA9ClC,OACFyC,EAAmBb,EAAOG,QAAQxC,GAClCmD,EAAsB1C,EAAOwB,WAAU,SAACmB,GAAD,OAAOA,EAAEpD,KAAOkD,KAC7DzC,EAAO0C,GAAuB,IAAIpD,EAAOmD,EAAkBb,EAAOG,SAEpE,OAAO,2BACFJ,GADL,IAEEJ,aAGJ,KAAKR,EACH,IAAQQ,EAAaI,EAAbJ,SACR,EAAmCK,EAAOG,QAAlCI,EAAR,EAAQA,UAAWxC,EAAnB,EAAmBA,YAInB,OAHgB4B,EAASD,EAAgBC,EAAUY,IAC3CxC,YAAcA,EAEf,2BACFgC,GADL,IAEEJ,aAIJ,KAAKJ,EACH,IAAQI,EAAaI,EAAbJ,SACR,OAAO,2BACFI,GADL,IAEEJ,aAIJ,KAAKH,EACH,IAAQG,EAAaI,EAAbJ,SAGR,OAFgBA,EAASD,EAAgBC,EAAUK,EAAOG,QAAQxC,KAC1Dc,UAAW,EACZ,2BACFsB,GADL,IAEEJ,aAIJ,KAAKF,EACH,IAAQE,EAAaI,EAAbJ,SAGR,OAFgBA,EAASD,EAAgBC,EAAUK,EAAOG,QAAQxC,KAC1Dc,UAAW,EACZ,2BACFsB,GADL,IAEEJ,aAON,OAAOI,ECpLF,IAAMiB,EAAsB,sBCGtBC,EAAY,CAAC,QAAS,aAEtBC,EAA+B,CAC1CC,KAAM,CAAElB,KAAMgB,EAAU,KAGnB,SAASG,EAAYrB,EAAiBC,GAG3C,OADAqB,QAAQC,IAAItB,GACJA,EAAOC,OACRe,EACI,2BACFjB,GADL,IAEEoB,KAAM,CAAElB,KAAMD,EAAOG,WAIhBJ,ECVN,IAAMwB,EAA6B,CACxCC,aAAa,eHDmC,CAChD7B,SAAU,GACVU,UAAU,EACVD,YAAa,GACbE,kBAAmB,KACnBJ,cAAe,KGDfuB,SAAS,eACJP,IAIQ,aAAmClB,GAAnC,IAAGwB,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,SAAjB,MAA4D,CACzED,aAAc1B,EAAgB0B,EAAcxB,GAC5CyB,SAAUL,EAAYK,EAAUzB,KCVrB0B,EAAeC,wBAGzB,CACD5B,MAAOwB,EACPK,SAAU,kBAAM,QAOX,SAASC,EAAcnF,GAC5B,IAAQoF,EAAapF,EAAboF,SACR,EAA0BC,qBAAWC,EAAUT,GAA/C,mBAEM9D,EAAQ,CAAEsC,MAFhB,KAEuB6B,SAFvB,MAGA,OACE,cAACF,EAAaO,SAAd,CAAuBxE,MAAOA,EAA9B,SACGqE,IAKA,IAAMI,EAAgB,kBAAMC,qBAAWT,ICOjCU,EAAwB,SAACrE,EAA+BwC,GAAhC,MAA6D,CAChGN,KAAMd,EACNgB,QAAS,CAAEpC,cAAawC,eA8Cb8B,GAAoB,SAAC1B,GAAD,MAA6B,CAC5DV,KAAMf,EACNiB,QAASQ,IAGE2B,GAAmB,SAAClE,GAAD,MAA2B,CACzD6B,KAAMX,EACNa,QAAS/B,ICjFImE,GATG,WAChB,MAA4BL,IAApBnC,EAAR,EAAQA,MAAO6B,EAAf,EAAeA,SAMf,MAAO,CAAExB,YALiCL,EAAlCyB,aAAgBpB,YAKFoC,UAJJ,SAACC,GACjBb,EDC2C,CAC7C3B,KAAMtB,EACNwB,QCHcsC,O,oBCHhB,SAASC,KACP,MAEIH,KADFnC,EADF,EACEA,YAAaoC,EADf,EACeA,UAOf,OACE,uBACE5F,UAAWC,KAAQ8F,MACnBC,YAAY,0CACZnF,MAAO2C,EACPyC,SATa,SAACJ,GAChBD,EAAUC,EAAEK,OAAOrF,UAaRsF,WAAMC,KAAKN,ICjBXO,GARC,WAAoB,IAAnBhF,EAAkB,wDACjC,EAAmBiE,IAAXnC,EAAR,EAAQA,MACoBE,EAAaF,EAAjC0B,SAAYN,KAAQlB,KACtBiD,GAAcjF,GAASgC,IAASgB,EAAU,GAC1CkC,EAAalD,IAASgB,EAAU,GACtC,MAAO,CAAEmC,SAAUnD,EAAMiD,aAAYC,e,4DCcxB,SAASE,GAAO3G,GAC7B,IACE4G,EACE5G,EADF4G,QADF,EAEI5G,EADO6G,gBADX,WAEI7G,EADyB8G,aAD7B,MACqC,KADrC,EAC2CC,EACvC/G,EADuC+G,KAAMZ,EAC7CnG,EAD6CmG,SAAUpF,EACvDf,EADuDe,MAD3D,EAEIf,EAD8DgH,gBADlE,SAKA,OACE,eAACC,GAAA,EAAD,CAAaC,WAAS,EAAChH,UAAWC,KAAQgH,OAA1C,UACGL,EAAQ,cAACM,GAAA,EAAD,CAAYC,QAAM,EAACnH,UAAWC,KAAQF,MAAOqH,GAAIP,EAAjD,SAAwDD,IAAsB,KACvF,cAAC,KAAD,CACES,QAASR,EACTA,KAAMA,EACNhG,MAAOA,EACPoF,SATe,SAACqB,GAAD,OAA8BrB,EAASqB,IAUtDX,SAAUA,EACVY,QAAQ,WACRT,SAAUA,EAPZ,SASGJ,EAAQc,KAAI,SAACC,GAAD,OAAO,cAACC,GAAA,EAAD,CAAwB7G,MAAO4G,EAAE5G,MAAjC,SAAyC4G,EAAE1H,OAA5B0H,EAAE5G,eAM7C4F,GAAOtG,aAAe,CACpByG,MAAO,KACPE,UAAU,G,wBCpCZ,SAASa,KACP,IAAMC,EAAuBvD,EAAUmD,KAAI,SAACK,GAAD,MAAQ,CAAEhH,MAAOgH,EAAG9H,MAAO8H,MAC9D7C,EAAaM,IAAbN,SACAwB,EAAaH,KAAbG,SAMR,OACE,qBAAKxG,UAAWC,KAAQ6H,UAAxB,SACE,cAAC,GAAD,CAAQ7B,SANK,SAACJ,GAChB,IAAQhF,EAAUgF,EAAEK,OAAZrF,MACRmE,ECf6C,CAC/C3B,KAAMe,EACNb,QDauB1C,KAIS6F,QAASkB,EAAajB,UAAQ,EAACE,KAAK,WAAWhG,MAAO2F,MAKzEL,WAAMC,KAAKuB,I,oBErBpBI,GAAe,4BAERC,GAAc,SAAChD,GAC1B,IAAMiD,EAAG,UAAMF,GAAN,aACTG,KAAMC,IAAIF,GAAKG,MAAK,SAACC,GACnB,IAAMtF,EAAWsF,EAAEC,KAAKd,KAAI,SAACvE,GAAD,OAAe,IAAIrB,EAAQqB,EAAElC,GAAI,CAAEC,UAAWiC,EAAEjC,UAAWC,SAAUgC,EAAEhC,SAAUC,YAAa+B,EAAE/B,iBAC5H8D,EPKuB,SAACjC,GAAD,MAAsC,CAC/DM,KAAMnB,EACNqB,QAASR,GOPEwF,CAA2BxF,QAI3ByF,GAAmB,SAACxD,GAC/B,IAAMiD,EAAG,UAAMF,GAAN,kBACTG,KAAMC,IAAIF,GAAKG,MAAK,SAACC,GACnB,IAAM/E,EAAgB+E,EAAEC,KACxBtD,EPE4B,SAAC1B,GAAD,MAA2C,CACzED,KAAMvB,EACNyB,QAASD,GOJEiF,CAAgCjF,QAIhCmF,GAAY,SAACzD,EAAiCoC,GACzD,IAAMa,EAAG,UAAMF,GAAN,qBAA+BX,EAA/B,mBACTc,KAAMC,IAAIF,GAAKG,MAAK,SAACC,GPWE,IAAC7G,EOVtBwD,GPUsBxD,EOVY6G,EAAEC,MAAQ,GPU8B,CAC5EjF,KAAMb,EACNe,QAAS,CAAE/B,SAAQmC,UOZ+ByD,UAIvCsB,GAAc,SAAC1D,EAAiCjB,GAC3D,IAAMkE,EAAG,UAAMF,GAAN,aACT,OAAOG,KAAMS,KAAKV,EAAKlE,GAASqE,MAAK,YAAe,IAAZE,EAAW,EAAXA,KAEtC,OADAtD,EPFuB,SAACjB,GAAD,MAAmC,CAC5DV,KAAMlB,EACNoB,QAASQ,GOAEwE,CAA2B,IAAI3G,EAAQ0G,EAAKvH,GAAIuH,KAClDA,MAIEM,GAAa,SAAC5D,EAAiCjB,GAC1D,IAAMkE,EAAG,UAAMF,GAAN,qBAA+BhE,EAAQhD,IAChD,OAAOmH,KAAMW,IAAIZ,EAAKlE,GAASqE,MAAK,YAAe,IAAZE,EAAW,EAAXA,KAErC,OADAtD,EPfsB,SAACjB,GAAD,MAAmC,CAC3DV,KAAMjB,EACNmB,QAASQ,GOaEwE,CAA0B,IAAI3G,EAAQ0G,EAAKvH,GAAIuH,KACjDA,MCjBIQ,GAlBK,WAClB,MAA4BxD,IAApBnC,EAAR,EAAQA,MAAO6B,EAAf,EAAeA,SACf,EAA8D7B,EAAtDyB,aAAgB7B,EAAxB,EAAwBA,SAAUU,EAAlC,EAAkCA,SAAUD,EAA5C,EAA4CA,YAC5CuF,qBAAU,WACHhG,EAASc,SACZmE,GAAYhD,GACZwD,GAAiBxD,MAElB,IACH,IAAIgE,EAAkBjG,EAASe,QAAO,SAACb,GAAD,OAAQA,EAAE5B,SAKhD,OAJImC,IACFwF,EAAkBA,EAAgBlF,QAAO,SAACb,GAAD,OAAOA,EAAElC,KAAOkI,SAASzF,EAAa,MAAiG,IAA1F,CAACP,EAAEjC,UAAWiC,EAAEhC,UAAUf,KAAK,KAAKgJ,cAAcC,QAAQ3F,EAAY0F,mBAGvJ,CACLnG,WAAUU,WAAUD,cAAawF,oBCuCtBI,GAnDO,WACpB,MAA4B9D,IAApBnC,EAAR,EAAQA,MAAO6B,EAAf,EAAeA,SA8Cf,MAAO,CACLtB,kBA9C8CP,EAAxCyB,aAAgBlB,kBA8CH2F,gBA7CG,WACtBrE,ET8DuC,CACzC3B,KAAMrB,KSnBgCsH,cA1ChB,SAACvF,GAAD,OAAqB,IAAIwF,SAAQ,SAACC,IAOlDzF,EAAQ1C,MACGqH,GAAY1D,EAAUjB,GAEtB6E,GAAW5D,EAAUjB,IAGzBqE,MAAK,SAACnF,GACfsG,QAAQE,IAAI1F,EAAQvC,OAAOgG,KAAI,SAAChG,GAAD,OAAY,IAAI+H,SAAQ,SAACG,GACtD,IAAIC,EAEFA,EADEnI,EAAOH,MFcO,SAAC2D,EAAiCjB,EAAiBvC,GAC3E,IAAMyG,EAAG,UAAMF,GAAN,qBAA+BhE,EAAQhD,GAAvC,kBACT,OAAOmH,KAAMS,KAAKV,EAAKzG,GAAQ4G,MAAK,YAAe,IAAZE,EAAW,EAAXA,KAErC,OADAtD,EPiBsB,SAACxD,GAAD,MAAiC,CACzD6B,KN7CgC,qBM8ChCE,QAAS/B,GOnBE+G,CAA0B,IAAIzH,EAAOwH,EAAKvH,GAAIuH,KAChDA,KEjBWsB,CAAW5E,EAAU/B,EAAGzB,GFqBrB,SAACwD,EAAiCxD,GACzD,IAAMyG,EAAG,UAAMF,GAAN,0BAAoCvG,EAAOT,GAA3C,KACT,OAAOmH,KAAMW,IAAIZ,EAAKzG,GAAQ4G,MAAK,YAAe,IAAZE,EAAW,EAAXA,KAEpC,OADAtD,EPcwD,CAC1D3B,KNjD+B,oBMkD/BE,QOhBoC,IAAIzC,EAAOwH,EAAKvH,GAAIuH,KAC/CA,KEvBWuB,CAAU7E,EAAUxD,GAElCmI,EAAUvB,MAAK,SAACjE,GACV3C,EAAOL,YF6Ce,SAAC6D,EAAiCxD,EAAeL,GACnF,IAAM8G,EAAG,UAAMF,GAAN,0BAAoCvG,EAAOT,GAA3C,wBAA6DI,EAAYJ,IAClF,OAAOmH,KAAMW,IAAIZ,GAAKG,MAAK,SAACC,GAC1BrD,EP9BgC,SAAC7D,EAA+B2I,GAAhC,MAA4D,CAC9FzG,KNrC2C,gCMsC3CE,QAAS,CAAEpC,cAAa2I,aO4BbvB,CAAoCF,EAAEC,KAAKnH,aAAe,GAAIK,EAAOT,QE/CtEgJ,CAAqB/E,EAAUb,EAAG3C,EAAOL,aAAaiH,MAAK,WACzDsB,EAAc,SAGhBA,EAAc,gBAGftB,MAAK,WACJrE,EAAQ5C,YF6BiB,SAAC6D,EAAiCjB,EAAiB5C,GACtF,IAAM8G,EAAG,UAAMF,GAAN,qBAA+BhE,EAAQhD,GAAvC,wBAAyDI,EAAYJ,IAC9E,OAAOmH,KAAMW,IAAIZ,GAAKG,MAAK,SAACC,GAC1BrD,EAASuD,EAAqCF,EAAEC,KAAKnH,aAAe,GAAI4C,EAAQhD,QE/B1EiJ,CAAsBhF,EAAU/B,EAAGc,EAAQ5C,aAAaiH,MAAK,WAC3DoB,EAAe,SAGjBA,EAAe,kB,oBCvCzB,SAASS,GAAOnK,GACd,IACEgH,EAEEhH,EAFFgH,SAAUoD,EAERpK,EAFQoK,OAAQhF,EAEhBpF,EAFgBoF,SAAUlF,EAE1BF,EAF0BE,UAAWmK,EAErCrK,EAFqCqK,QACvCC,EACEtK,EADFsK,KAAMC,EACJvK,EADIuK,MAAOC,EACXxK,EADWwK,KAFf,EAGIxK,EADiB8G,aAFrB,WAE6B2D,EAF7B,EAIMC,EAAgB,CAACvK,KAAQwK,OAAQzK,GAOvC,OANIoK,GACFI,EAAc9I,KAAKzB,KAAQmK,MAEzBC,GACFG,EAAc9I,KAAKzB,KAAQoK,OAG3B,wBACEzD,MAAOA,EACPvD,KAAM6G,EAAS,SAAW,SAC1BpD,SAAUA,EACV9G,UAAWwK,EAActK,KAAK,KAC9BiK,QAASA,QAAWI,EACpBD,KAAMA,QAAQC,EANhB,SAQGrF,IAKP+E,GAAO9J,aAAe,CACpBH,UAAW,GACX8G,UAAU,EACVsD,MAAM,EACNC,OAAO,EACPH,QAAQ,EACRC,aAASI,EACTD,UAAMC,EACN3D,WAAO2D,GAGMN,U,oBC1Cf,SAASS,KACP,IAAQrB,EAAoBD,KAApBC,gBAIR,OACE,qBAAKrJ,UAAWC,KAAQ6H,UAAxB,SACE,cAAC,GAAD,CAAQ9H,UAAWC,KAAQ0K,UAAWR,QAL1B,WACdd,KAIE,SACE,qCACE,mBAAGrJ,UAAU,iBADf,qBASOmG,WAAMC,KAAKsE,I,oBCR1B,SAASE,GAAWC,GAClB,IrBfyBpK,EqBejBsD,EAAY8G,EAAZ9G,QAEN/C,EACE+C,EADF/C,UAAWC,EACT8C,EADS9C,SAAUC,EACnB6C,EADmB7C,YAAaH,EAChCgD,EADgChD,GAAIc,EACpCkC,EADoClC,SAEhCmD,EAAaM,IAAbN,SAIAsB,EAAeD,KAAfC,WACFwE,EAAc,CAAC,OAQrB,OAPiB,IAAbjJ,EACFiJ,EAAYpJ,KAAK,yBACK,IAAbG,EACTiJ,EAAYpJ,KAAK,oBAEjBoJ,EAAYpJ,KAAK,kBAGjB,sBAAK1B,UAAWC,KAAQ6H,UAAxB,UACE,cAAC,EAAD,CAAO/H,MAAO,mBAAGC,UAAW8K,EAAY5K,KAAK,OAAUF,UAAWC,KAAQ8K,SAC1E,cAAC,EAAD,CAAOhL,MAAOgB,EAAIf,UAAWC,KAAQmH,KACrC,cAAC,EAAD,CAAOrH,MAAK,UAAKiB,GAAahB,UAAWC,KAAQ4G,OACjD,cAAC,EAAD,CAAO9G,MAAOkB,EAAUjB,UAAWC,KAAQ4G,OAC3C,cAAC,EAAD,CAAO9G,MAAOmB,GrBtCOT,EqBsCkBS,ErBtCFR,YAAO,IAAIC,KAAKF,GAAO,eqBsCN,GAAIT,UAAWC,KAAQ+K,MAC7E,qBAAKhL,UAAWC,KAAQgL,QAAxB,SAEE,cAAC,GAAD,CAAQd,QArBM,WAClBnF,EZwDmD,CACrD3B,KAAMhB,EACNkB,QY1D4BxC,KAoBQqJ,MAAI,EAAlC,SAAoC9D,EAAa,OAAS,mBAMnDH,WAAMC,KAAKwE,IC3C1B,SAASM,KACP,OACE,sBAAKlL,UAAWC,KAAQkL,eAAxB,UACE,cAAC,EAAD,CAAOpL,MAAM,SAASC,UAAWC,KAAQ8K,SACzC,cAAC,EAAD,CAAOhL,MAAM,KAAKC,UAAWC,KAAQmH,KACrC,cAAC,EAAD,CAAOrH,MAAM,aAAaC,UAAWC,KAAQ4G,OAC7C,cAAC,EAAD,CAAO9G,MAAM,YAAYC,UAAWC,KAAQ4G,OAC5C,cAAC,EAAD,CAAO9G,MAAM,gBAAgBC,UAAWC,KAAQ+K,MAChD,qBAAKhL,UAAWC,KAAQgL,QAAxB,SACE,cAAC,EAAD,CAAOlL,MAAM,UAAUC,UAAWC,KAAQ+K,WAOnC7E,WAAMC,KAAK8E,I,oBCAXE,OAbf,WACE,MAAsCtC,KAA9BrF,EAAR,EAAQA,SAAUuF,EAAlB,EAAkBA,gBAClB,OACE,sBAAKhJ,UAAWC,KAAQ6H,UAAxB,UACE,cAAC,GAAD,IACCkB,EAAgBxB,KAAI,SAACvE,GAAD,OAAe,cAAC,GAAD,CAAuBc,QAASd,GAAfA,EAAElC,OACrDiI,EAAgBnF,QAAWJ,EAAmC,KAAxB,sBACxC,cAAC,GAAD,IACCA,EAAW,MAAQ,S,QCHX4H,GAVE,WACf,IAAQrG,EAAaM,IAAbN,SAKR,MAAO,CACLsG,UAJgB,WAChBtG,Ef4EsC,CACxC3B,KAAMpB,OgB7EOsJ,GARQ,WACrB,IACwBjI,EADNgC,IAAVnC,MACAyB,aAAgBtB,cAClBkI,EAA8BlI,EAAckE,KAAI,SAACiE,GAAD,MAAQ,CAAE5K,MAAO4K,EAAE1K,GAAIhB,MAAO0L,EAAEC,UAEtF,MAAO,CAAEpI,gBAAekI,uBCiBXG,GAdI,WACjB,MAA4BrG,IAApBnC,EAAR,EAAQA,MAAO6B,EAAf,EAAeA,SACf,EAA0D7B,EAAlDyB,aAAgB7B,EAAxB,EAAwBA,SAAUW,EAAlC,EAAkCA,kBAE5BK,EAAUhB,EAAS6I,MAAK,SAAC3I,GAAD,OAAeA,EAAElC,KAAO2C,MAAsB,IAAI9B,EAAQ,GAQxF,OANAmH,qBAAU,WACkB,OAAtBrF,IAA8BK,GAAaA,EAAQ5C,aAAiB4C,EAAQ1C,OV8C/C,SAAC2D,EAAiCoC,GACrE,IAAMa,EAAG,UAAMF,GAAN,qBAA+BX,EAA/B,iBACTc,KAAMC,IAAIF,GAAKG,MAAK,SAACC,GACnBrD,EAASuD,EAAqCF,EAAEC,KAAKnH,aAAe,GAAIiG,OUhDtE5B,CAAsBR,EAAUtB,KAEjC,CAACA,EAAmBX,IAEhB,CAAEgB,Y,oBCdX,SAAS8H,GAAM/L,GACb,IACE8G,EACE9G,EADF8G,MAAO1B,EACLpF,EADKoF,SAAUlF,EACfF,EADeE,UAGb8L,EAAe,CAAC7L,KAAQ8L,MAAO/L,GAErC,OAEE,sBAAKA,UAAW8L,EAAa5L,KAAK,KAAlC,UACE,sBAAMF,UAAWC,KAAQ2G,MAAzB,SAAiCA,IACjC,qBAAK5G,UAAWC,KAAQ+L,KAAxB,SACG9G,OAMT2G,GAAM1L,aAAe,CACnBH,UAAW,IAGE6L,U,8BCfA,SAASI,GAAWnM,GACjC,IACEgH,EAGEhH,EAHFgH,SAAU9G,EAGRF,EAHQE,UAAWiG,EAGnBnG,EAHmBmG,SACrBW,EAEE9G,EAFF8G,MAFF,EAII9G,EAFK6G,gBAFT,SAGEE,EACE/G,EADF+G,KAAMhG,EACJf,EADIe,MAGR,OACE,cAACqL,GAAA,EAAD,CACEnM,MAAO6G,EACP/F,MAAOL,EAAgBK,GACvBwC,KAAK,OACL8I,gBAAiB,CAAEhF,QAAQ,GAC3BL,SAAUA,EACV9G,UAAW,CAACC,KAAQmM,WAAYpM,GAAWE,KAAK,KAChD+F,SAAUA,EACVU,SAAUA,EACVE,KAAMA,EACNG,WAAS,EACTO,QAAQ,WACRvB,YAAY,OACZqG,WAAY,CACVC,IAAK,aACLC,IAAK,aACLC,QAAS,0BAMjBP,GAAW9L,aAAe,CACxBH,UAAW,GACX8G,UAAU,EACVH,UAAU,G,wBCxCZ,SAAS8F,GAAS3M,GAChB,MAEIA,EADF8G,aADF,MACU,KADV,EACgB1B,EACZpF,EADYoF,SAAUlF,EACtBF,EADsBE,UAGpB8L,EAAe,CAAC7L,KAAQ8L,MAAO/L,GAErC,OACE,sBAAKA,UAAW8L,EAAa5L,KAAK,KAAlC,UACG0G,EAAQ,sBAAM5G,UAAWC,KAAQ2G,MAAzB,SAAiCA,IAAgB,KAC1D,qBAAK5G,UAAWC,KAAQ+L,KAAxB,SACG9G,OAMTuH,GAAStM,aAAe,CACtBH,UAAW,GACX4G,MAAO,MAGM6F,U,oBChBf,SAASC,GAAM5M,GACb,IACEgH,EAGEhH,EAHFgH,SAAU9G,EAGRF,EAHQE,UAAWiG,EAGnBnG,EAHmBmG,SACrBW,EAEE9G,EAFF8G,MAAOvD,EAELvD,EAFKuD,KAFT,EAIIvD,EAFW6G,gBAFf,SAGEE,EACE/G,EADF+G,KAAMhG,EACJf,EADIe,MAEJ8L,EAAI9L,EACR,GAAa,SAATwC,GAAmBxC,EAAO,CAC5B,IAD4B,EACf,IAAIF,KAAKE,GACX+L,cAAcC,MAAM,KAA9BF,EAF2B,oBAI9B,IAAMG,EAAW,CACfC,KAAM,CAAC9M,KAAQ8F,MAAO/F,GAAWE,KAAK,MAExC,OACE,cAACgM,GAAA,EAAD,CACEnM,MAAO6G,EACP/F,MAAO8L,EACPtJ,KAAMA,EACNyD,SAAUA,EACV7G,QAAS6M,EACT7G,SAAUA,EACVU,SAAUA,EACVE,KAAMA,EACNG,WAAS,EACTO,QAAQ,WACR4E,gBAAiB,CAAEhF,QAAQ,KAKjCuF,GAAMvM,aAAe,CACnBH,UAAW,GACX8G,UAAU,EACVzD,KAAM,OACNsD,UAAU,GAGG+F,U,oBCzCf,SAASM,GAAMlN,GACb,IACEmN,EACEnN,EADFmN,KAAMrG,EACJ9G,EADI8G,MAAO1B,EACXpF,EADWoF,SAAUlF,EACrBF,EADqBE,UAAWkN,EAChCpN,EADgCoN,QAG9BC,EAAe,CAAClN,KAAQmN,MAAOpN,GACrC,OAAIiN,GACFE,EAAazL,KAAKzB,KAAQgN,MAM1B,sBAAKjN,UAAWmN,EAAajN,KAAK,KAAlC,UACE,qBAAKF,UAAWC,KAAQoN,WAExB,sBAAKrN,UAAWC,KAAQ6H,UAAxB,UACE,sBAAK9H,UAAWC,KAAQ2G,MAAxB,UACGA,EACD,cAAC,GAAD,CAAQuD,QAAS+C,EAASlN,UAAWC,KAAQqN,MAA7C,SAAoD,mBAAGtN,UAAU,uBAEnE,qBAAKA,UAAWC,KAAQ+L,KAAxB,SACG9G,WAbA,KAoBX8H,GAAM7M,aAAe,CACnBH,UAAW,IAGEgN,UCCAO,GAlCG,WAChB,MAA4BjI,IAApBnC,EAAR,EAAQA,MAAO6B,EAAf,EAAeA,SACf,EAAoE7B,EAA5DyB,aAAgB7B,EAAxB,EAAwBA,SAAUU,EAAlC,EAAkCA,SAAUC,EAA5C,EAA4CA,kBACtC8J,EAAkBzK,EAAS6I,MAAK,qBAAG7K,KAAgB2C,KACzD,EAAgD+J,mBAAwB,MAAxE,mBAAOxJ,EAAP,KAAyByJ,EAAzB,KAEA3E,qBAAU,WACkB,OAAtBrF,IAA8B8J,GAAqBA,EAAgBhM,OAAOqC,QAAY2J,EAAgBnM,OACxGoH,GAAUzD,EAAUtB,GAEtBgK,EAAoB,QACnB,CAAChK,EAAmBX,IAEvB,IAAMvB,EAAkBgM,EAAkBA,EAAgBhM,OAAS,GAC7DmM,EAAiB1J,EAAmBzC,EAAOoK,MAAK,SAACzH,GAAD,OAAOA,EAAEpD,KAAOkD,KAAoB,KAE1F8E,qBAAU,WACJvH,EAAOqC,OACT6J,EAAoBlM,EAAOA,EAAOqC,OAAS,GAAG9C,IAE9C2M,EAAoB,QAErB,CAAClM,EAAOqC,SAEXkF,qBAAU,cACP,CAACvH,IAKJ,MAAO,CACLA,SAAQiC,WAAUmK,UALF,WAChB5I,EvBwBqB,SAACxD,GAAD,MAA4B,CACnD6B,KAAMZ,EACNc,QAAS/B,QAAU+I,GuB1BRhC,KAIoBoF,iBAAgBD,sBAAqBzJ,mBAAkBuJ,oB,oBC9BxF,SAASK,GAAa/N,GACpB,IAAQgH,EAAahH,EAAbgH,SACA8G,EAAcL,KAAdK,UAIR,OACE,qBAAK5N,UAAWC,KAAQ6H,UAAxB,SACE,cAAC,GAAD,CAAQ9H,UAAWC,KAAQ0K,UAAWR,QAL1B,WACdyD,KAI0D9G,SAAUA,EAAUF,MAAM,8CAAlF,SACE,qCACE,mBAAG5G,UAAU,iBADf,2BASOmG,WAAMC,KAAKyH,I,oBCmCXC,OA/Cf,SAAsBhO,GACpB,IAAQ0B,EAAsB1B,EAAtB0B,OAAQuM,EAAcjO,EAAdiO,UAEd/M,EACEQ,EADFR,UAAWC,EACTO,EADSP,SAAUC,EACnBM,EADmBN,YAAaE,EAChCI,EADgCJ,aAAcD,EAC9CK,EAD8CL,YAGlD,EAA8CoK,KAAtCjI,EAAR,EAAQA,cAAekI,EAAvB,EAAuBA,mBACfxG,EAAaM,IAAbN,SACFgJ,EAAgB,SAACnI,GACrB,IAAMoI,EAAMpI,EAAEK,OAAOW,KACbhG,EAAUgF,EAAEK,OAAZrF,MACJqN,EAA0CrN,EAClC,gBAARoN,IACFC,EAAS5K,EAAcsI,MAAK,SAACH,GAAD,OAAOA,EAAE1K,KAAOkI,SAASpI,EAAO,QAE9D,IAAMsN,EAAY,2BACb3M,GADa,mBAEfyM,EAAMC,IAETlJ,EAASU,GAAiByI,KAYpB1M,EAAaF,EAAcC,GAA3BC,SACA6E,EAAeD,GAAQ7E,EAAOH,OAA9BiF,WACR,OACE,gCACE,cAAC,EAAD,CAAOvG,MAAM,qBAAqBC,UAAWC,KAAQ2G,QACrD,cAAC,GAAD,CAAOD,UAAQ,EAACC,MAAM,aAAaC,KAAK,YAAYZ,SAAU+H,EAAenN,MAAOG,EAAW8F,SAAUR,IACzG,cAAC,GAAD,CAAOK,UAAQ,EAACC,MAAM,YAAYC,KAAK,WAAWZ,SAAU+H,EAAenN,MAAOI,EAAU6F,SAAUR,IACtG,cAAC,GAAD,CAAQK,UAAQ,EAACC,MAAM,eAAeC,KAAK,eAAeZ,SAAU+H,EAAenN,MAAOO,EAAcsF,QAAS9F,EAAiBkG,SAAUR,IAC5I,cAAC,GAAD,CAAQK,UAAQ,EAACC,MAAM,cAAcC,KAAK,cAAcZ,SAAU+H,EAAenN,MAAOM,GAAeA,EAAYJ,GAAI2F,QAAS8E,EAAoB1E,SAAUR,IAC9J,cAAC2F,GAAD,CAAYrF,MAAM,gBAAgBX,SAlBjB,SAACoC,GACpB,GAAIA,GAAKA,EAAEnC,OAAOrF,MAAO,CACvB,IAAMsN,EAAY,2BACb3M,GADa,IAEhBN,YAAamH,EAAEnC,OAAOrF,QAExBmE,EAASU,GAAiByI,MAYgCtN,MAAOK,EAAa2F,KAAK,cAAcC,SAAUR,IAC1G7E,EAASoC,QAAUkK,EAAY,cAAC,GAAD,UAAWtM,EAASvB,KAAK,QAAoB,S,oBC3CnF,SAASkO,GAAUvD,GACjB,IAAQrJ,EAA+BqJ,EAA/BrJ,OAAiB6M,EAAcxD,EAAvBV,QAAaE,EAAUQ,EAAVR,MAE3BrJ,EACEQ,EADFR,UAAWC,EACTO,EADSP,SAAUF,EACnBS,EADmBT,GAAII,EACvBK,EADuBL,YAAaC,EACpCI,EADoCJ,aAExC,GAAwBD,GAAe,IAA/BuK,aAAR,MAAgB,IAAhB,EAKM4C,EAAmB,CAACrO,KAAQ6H,WAIlC,OAHIuC,GACFiE,EAAiB5M,KAAKzB,KAAQoK,OAG9B,sBAAKrK,UAAWsO,EAAiBpO,KAAK,KAAtC,UACE,cAAC,EAAD,CAAOH,MAAOiB,EAAS,UAAMA,EAAN,YAAmBC,GAAa,IAAKjB,UAAWC,KAAQ4G,OAC/E,cAAC,EAAD,CAAO9G,MAAOqB,GAAgB,IAAKpB,UAAWC,KAAQmB,eACtD,cAAC,EAAD,CAAOrB,MAAO2L,GAAS,IAAK1L,UAAWC,KAAQkB,cAC/C,cAAC,GAAD,CAAQiJ,MAAI,EAACD,QAZD,WACdkE,EAAGtN,IAWD,qBAMSoF,WAAMC,KAAKgI,I,oBCGXG,OA3Bf,SAAoBzO,GAClB,IAAQiO,EAAcjO,EAAdiO,UACR,EAEIR,KADF/L,EADF,EACEA,OAAQiC,EADV,EACUA,SAAUiK,EADpB,EACoBA,oBAAqBC,EADzC,EACyCA,eAAgBH,EADzD,EACyDA,gBAEjDlH,EAAeD,KAAfC,WACFkI,EAAchB,GAAmBA,EAAgBnM,QAAWiF,EAC5DmI,GAAYjN,EAAOoK,MAAK,SAACzH,GAAD,OAAQ5C,EAAc4C,GAAGxC,SAEvD,OACE,sBAAK3B,UAAWC,KAAQ6H,UAAxB,UACE,sBAAK9H,UAAWC,KAAQyO,KAAxB,UAEE,cAAC,GAAD,CAAc5H,UAAW2H,IAAaD,IACrChN,EAAOgG,KAAI,SAACrD,GAAD,OAAc,cAAC,GAAD,CAAWkG,MAAO0D,IAAcxM,EAAc4C,GAAGxC,MAAkBH,OAAQ2C,EAAGgG,QAASuD,GAA1BvJ,EAAEpD,OACvFS,EAAOqC,OAA+B,KAAtB,oBACjBJ,EAAW,MAAQ,QAErBkK,EACC,qBAAK3N,UAAWC,KAAQ0O,OAAxB,SACE,cAAC,GAAD,CAAcnN,OAAQmM,EAAgBI,UAAWA,MAEjD,S,oBCfV,SAASa,KACP,MAA6CxF,KAArC1F,EAAR,EAAQA,kBAAmB4F,EAA3B,EAA2BA,cACnBgC,EAAeD,KAAfC,UACAvH,EAAY4H,KAAZ5H,QACAiB,EAAaM,IAAbN,SACR,EAA8CuG,KAAtCC,EAAR,EAAQA,mBAAoBlI,EAA5B,EAA4BA,cAC5B,EAA0CmK,mBAAmB,IAA7D,mBAAOoB,EAAP,KAAsBC,EAAtB,KAGE9N,EACE+C,EADF/C,UAAWC,EACT8C,EADS9C,SAAUC,EACnB6C,EADmB7C,YAAaC,EAChC4C,EADgC5C,YAW9B4N,EAAWC,uBAAY,SAACnJ,GAC5BA,EAAEoJ,iBACF,MnCd0B,SAAClL,GAC7B,IAAMtC,EAAoB,GACpByN,EAAS,GACTC,GAAepL,EAAQvC,OAAOoK,MAAK,SAACzH,GAAD,OAAQ5C,EAAc4C,MAqB/D,OAnBKJ,EAAQ/C,YACXS,EAASC,KAAK,8BACdwN,EAAOxN,KAAK,CAAC,YAAa,gCAEvBqC,EAAQ9C,WACXQ,EAASC,KAAK,6BACdwN,EAAOxN,KAAK,CAAC,WAAY,+BAEtBqC,EAAQ7C,cACXO,EAASC,KAAK,uCACdwN,EAAOxN,KAAK,CAAC,cAAe,yCAEzBqC,EAAQvC,OAAOqC,QAClBpC,EAASC,KAAK,iCAEXyN,GACH1N,EAASC,KAAK,gCAGT,CACLC,QAASoC,EAAQ/C,aAAe+C,EAAQ9C,YAAc8C,EAAQ7C,eAAiB6C,EAAQvC,OAAOqC,QAAUsL,EACxG1N,WACAyN,UmCb4BE,CAAerL,GAAnCpC,EAAR,EAAQA,MAAOF,EAAf,EAAeA,SACXE,EACF2H,EAAcvF,GAASqE,MAAK,WAC1BkD,OAGFwD,EAAiBrN,KAElB,CAACsC,IAEEiK,EAAgB,SAACnI,GACrB,IAAMoI,EAAMpI,EAAEK,OAAOW,KACbhG,EAAUgF,EAAEK,OAAZrF,MACJqN,EAA0CrN,EAClC,gBAARoN,IACFC,EAAS5K,EAAcsI,MAAK,SAACH,GAAD,OAAOA,EAAE1K,KAAOkI,SAASpI,EAAO,QAE9D,IAAMwO,EAAU,2BACXtL,GADW,mBAEbkK,EAAMC,IAGTlJ,EAASS,GAAkB4J,KAqB7B,EAAmChJ,KAAUtC,EAAQ1C,OAA7CiF,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,WACd0G,EAA6B,OAAtBvJ,EACTqH,EAAS,YACbA,GAA8B,IAArBhH,EAAQlC,SAAoB,aAAekJ,EACpDA,GAA8B,IAArBhH,EAAQlC,SAAqB,aAAekJ,EAGrD,IAAMnE,EAAK,UAFXmE,EAASxE,EAAawE,EAAS,GAEpB,YAAgBhH,EAAQ1C,MAAQ,cAAgB,gBAE3D,OACE,cAAC,GAAD,CAAO4L,KAAMA,EAAMC,QA/DL,WACd5B,KA8DqC1E,MAAOA,EAA5C,SACE,sBAAK5G,UAAWC,KAAQqK,KAAxB,UACE,sBAAMlD,GAAG,SAAS2H,SAAUA,EAA5B,SACE,sBAAK/O,UAAWC,KAAQ6H,UAAxB,UACE,cAAC,GAAD,CAAOlB,MAAM,aAAaC,KAAK,YAAYZ,SAAU+H,EAAenN,MAAOG,EAAW8F,SAAUR,IAChG,cAAC,GAAD,CAAOM,MAAM,YAAYC,KAAK,WAAWZ,SAAU+H,EAAenN,MAAOI,EAAU6F,SAAUR,IAC7F,cAAC,GAAD,CAAQK,UAAQ,EAACC,MAAM,cAAcC,KAAK,cAAcZ,SAAU+H,EAAenN,MAAOM,GAAeA,EAAYJ,GAAI2F,QAAS8E,EAAoB1E,SAAUR,IAC9J,cAAC2F,GAAD,CAAYrF,MAAM,gBAAgBX,SAnCvB,SAACoC,GACpB,GAAIA,GAAKA,EAAEnC,OAAOrF,MAAO,CACvB,IAAMwO,EAAU,2BACXtL,GADW,IAEd7C,YAAamH,EAAEnC,OAAOrF,QAExBmE,EAASS,GAAkB4J,MA6BqCxO,MAAOK,EAAa2F,KAAK,cAAcC,SAAUR,SAG/G,cAAC,GAAD,CAAOM,MAAM,iBAAb,SACE,cAAC,GAAD,CAAYmH,YAAac,EAAchL,WAEzC,sBAAK7D,UAAWC,KAAQgL,QAAxB,UACG4D,EAAchL,OAAS,cAAC,GAAD,UAAWgL,EAAc3O,KAAK,QAAoB,KAC1E,cAAC,GAAD,CAAQgK,QAAM,EAAClK,UAAWC,KAAQwK,OAAQH,KAAK,SAA/C,kBACC/D,EACC,qCACE,cAAC,GAAD,CAAQvG,UAAWC,KAAQwK,OAAQN,QArC7B,WAChBnF,E5BmB6B,SAACjB,GAAD,MAA6B,CAC5DV,KAAMT,EACNW,QAASQ,G4BrBEuL,CAAkBvL,IAC3BuH,KAmCU,qBACA,cAAC,GAAD,CAAQtL,UAAWC,KAAQwK,OAAQN,QAlC9B,WACfnF,E5BmB4B,SAACjB,GAAD,MAA6B,CAC3DV,KAAMR,EACNU,QAASQ,G4BrBEwL,CAAiBxL,IAC1BuH,KAgCU,uBAEA,aASCnF,WAAMC,KAAKwI,ICtGXY,OAhBf,WACE,OACE,sBAAKxP,UAAWC,IAAQwP,IAAxB,UACE,sBAAKzP,UAAWC,IAAQyP,gBAAxB,UACE,cAAC,EAAD,CAAO3P,MAAM,eAAeC,UAAWC,IAAQ2G,QAC/C,cAAC,GAAD,IACA,cAAC,GAAD,OAEF,qBAAK5G,UAAWC,IAAQ6H,UAAxB,SACE,cAAC,GAAD,MAEF,cAAC,GAAD,Q,OCjBN6H,IAASC,OACP,cAAC3K,EAAD,UACE,cAAC,GAAD,MAEF4K,SAASC,eAAe,U,mBCT1BC,EAAOC,QAAU,CAAC,eAAiB,mCAAmC,UAAY,8BAA8B,OAAS,2BAA2B,GAAK,uBAAuB,KAAO,yBAAyB,IAAM,wBAAwB,QAAU,4BAA4B,aAAe,mC,mBCAnSD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,SAAW,wBAAwB,UAAY,yBAAyB,MAAQ,qBAAqB,KAAO,sB,mBCAtLD,EAAOC,QAAU,CAAC,QAAU,8BAA8B,OAAS,6BAA6B,KAAO,2BAA2B,UAAY,kC,mBCA9ID,EAAOC,QAAU,CAAC,UAAY,6BAA6B,MAAQ,yBAAyB,GAAK,sBAAsB,KAAO,wBAAwB,aAAe,gCAAgC,YAAc,+BAA+B,IAAM,yB,mBCAxPD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,gBAAkB,6BAA6B,UAAY,uBAAuB,MAAQ,qB,mBCAnID,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,qBAAqB,MAAQ,wB,mBCAtFD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,MAAQ,uB,mBCAlFD,EAAOC,QAAU,CAAC,MAAQ,wBAAwB,KAAO,uBAAuB,MAAQ,0B,mBCAxFD,EAAOC,QAAU,CAAC,UAAY,8BAA8B,KAAO,yBAAyB,OAAS,6B,mBCArGD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,MAAQ,wB,mBCA1DD,EAAOC,QAAU,CAAC,UAAY,iCAAiC,UAAY,mC,mBCA3ED,EAAOC,QAAU,CAAC,UAAY,gCAAgC,UAAY,kC,mBCA1ED,EAAOC,QAAU,CAAC,MAAQ,uB,mBCA1BD,EAAOC,QAAU,CAAC,MAAQ,2B,mBCA1BD,EAAOC,QAAU,CAAC,UAAY,gC,mBCA9BD,EAAOC,QAAU,CAAC,UAAY,iC,mBCA9BD,EAAOC,QAAU,CAAC,WAAa,iC,mBCA/BD,EAAOC,QAAU,CAAC,MAAQ,uB,mBCA1BD,EAAOC,QAAU,CAAC,MAAQ,+B","file":"static/js/main.29736d9c.chunk.js","sourcesContent":["import React from 'react';\nimport classes from './label.module.scss';\n\ntype LabelProps = {\n  label: string | number | React.ReactChild\n  className?:string\n};\n\nfunction Label(props:LabelProps) {\n  const { label, className = '' } = props;\n  return (\n    <div className={[className, classes.label].join(' ')}>{label}</div>\n  );\n}\n\nLabel.defaultProps = {\n  className: ''\n};\n\nexport default Label;\n","import { format } from 'date-fns';\n\nexport const notNull = (v:any) => v !== null;\nexport const noop = () => { console.log('No Op'); };\nexport const getRandomId = () => Math.floor(Math.random() * 100000);\nexport const formatDate = (date:string) => format(new Date(date), 'dd-MM-yyyy');\nexport const formatDateValue = (date?:string) => format(date ? new Date(date) : new Date(), 'yyyy-MM-dd');\n","import { formatDateValue, getRandomId } from '../../../../Utils/common';\n\nexport interface Nationality {\n  ID: number,\n  Title: string\n}\n\nexport const relationOptions = [\n  { value: 'Parent', label: 'Parent' },\n  { value: 'Sibling', label: 'Sibling' },\n  { value: 'Uncle', label: 'Uncle' },\n  { value: 'Aunt', label: 'Aunt' },\n];\n\nexport default class Family {\n  ID:number;\n\n  firstName: string;\n\n  lastName: string;\n\n  dateOfBirth: string;\n\n  nationality: Nationality | null;\n\n  relationship: string;\n\n  draft: boolean = false;\n\n  constructor(ID = getRandomId(), {\n    firstName = '', lastName = '', dateOfBirth = formatDateValue(), nationality = null, relationship = relationOptions[0].value, draft = false\n  } = {}) {\n    this.ID = ID;\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.dateOfBirth = dateOfBirth;\n    this.nationality = nationality;\n    this.relationship = relationship;\n    this.draft = draft;\n  }\n}\n\nexport const isFamilyValid = (family:Family) => {\n  const messages:string[] = [];\n\n  if (!family.firstName) {\n    messages.push('First Name cannot be Empty');\n  }\n  if (!family.lastName) {\n    messages.push('Last Name cannot be Empty');\n  }\n  if (!family.dateOfBirth) {\n    messages.push('Date of birth is empty or not valid');\n  }\n  if (!family.nationality) {\n    messages.push('Nationality is empty or not valid');\n  }\n  if (!family.relationship) {\n    messages.push('Relationship is empty or not valid');\n  }\n\n  return {\n    valid: !!family.firstName && !!family.lastName && !!family.dateOfBirth && !!family.nationality && !!family.relationship,\n    messages\n  };\n};\n","import { formatDateValue } from '../../../../Utils/common';\nimport Family, { isFamilyValid, Nationality } from './Family';\n\nexport default class Student {\n  ID:number;\n\n  firstName: string = '';\n\n  lastName: string = '';\n\n  dateOfBirth: string = '';\n\n  family: Family[] = [];\n\n  nationality: Nationality | null;\n\n  draft:Boolean = false;\n\n  approved:Boolean | null = null;\n\n  constructor(ID:number = 0, {\n    firstName = '', lastName = '', dateOfBirth = formatDateValue(), nationality = null, family = [], draft = false\n  } = {}) {\n    this.ID = ID;\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.dateOfBirth = dateOfBirth;\n    this.family = family;\n    this.nationality = nationality;\n    this.draft = draft;\n  }\n}\n\nexport const isStudentValid = (student:Student) => {\n  const messages:string[] = [];\n  const fields = [];\n  const familyValid = !student.family.find((f) => !isFamilyValid(f));\n\n  if (!student.firstName) {\n    messages.push('First Name cannot be Empty');\n    fields.push(['firstName', 'First Name cannot be Empty']);\n  }\n  if (!student.lastName) {\n    messages.push('Last Name cannot be Empty');\n    fields.push(['lastName', 'Last Name cannot be Empty']);\n  }\n  if (!student.dateOfBirth) {\n    messages.push('Date of birth is empty or not valid');\n    fields.push(['dateOfBirth', 'Date of birth is empty or not valid']);\n  }\n  if (!student.family.length) {\n    messages.push('Add atleast one family member');\n  }\n  if (!familyValid) {\n    messages.push('Family members are not valid');\n  }\n\n  return {\n    valid: !!student.firstName && !!student.lastName && !!student.dateOfBirth && !!student.family.length && familyValid,\n    messages,\n    fields\n  };\n};\n","export const ACTION_GET_NATIONALITIES = 'ACTION_GET_NATIONALITIES';\nexport const ACTION_SET_SEARCH = 'ACTION_SET_SEARCH';\n\nexport const ACTION_ADD_STUDENT_DRAFT = 'ACTION_ADD_STUDENT_DRAFT';\nexport const ACTION_HIDE_ADD_STUDENT_MODAL = 'ACTION_HIDE_ADD_STUDENT_MODAL';\n\nexport const ACTION_GET_STUDENTS = 'ACTION_GET_STUDENTS';\n\nexport const ACTION_ADD_NEW_DRAFT_STUDENT = 'ACTION_ADD_NEW_DRAFT_STUDENT';\n\nexport const ACTION_POST_STUDENT = 'ACTION_POST_STUDENT';\nexport const ACTION_PUT_STUDENT = 'ACTION_PUT_STUDENT';\n\nexport const ACTION_SELECT_STUDENT = 'ACTION_SELECT_STUDENT';\nexport const ACTION_SET_STUDENT_DETAIL = 'ACTION_SET_STUDENT_DETAIL';\nexport const ACTION_GET_STUDENT_NATIONALITY = 'ACTION_GET_STUDENT_NATIONALITY';\nexport const ACTION_PUT_STUDENT_NATIONALITY = 'ACTION_PUT_STUDENT_NATIONALITY';\n\nexport const ACTION_GET_FAMILY = 'ACTION_GET_FAMILY';\nexport const ACTION_ADD_FAMILY_DRAFT = 'ACTION_ADD_FAMILY_DRAFT';\nexport const ACTION_SET_FAMILY_DETAIL = 'ACTION_SET_FAMILY_DETAIL';\nexport const ACTION_GET_FAMILY_NATIONALITY = 'ACTION_GET_FAMILY_NATIONALITY';\nexport const ACTION_PUT_FAMILY_NATIONALITY = 'ACTION_PUT_FAMILY_NATIONALITY';\n\nexport const ACTION_POST_FAMILY = 'ACTION_POST_FAMILY';\nexport const ACTION_PUT_FAMILY = 'ACTION_PUT_FAMILY';\nexport const ACTION_DELETE_FAMILY = 'ACTION_DELETE_FAMILY';\n\nexport const ACTION_SET_APPROVE_STUDENT = 'ACTION_SET_APPROVE_STUDENT';\nexport const ACTION_SET_REJECT_STUDENT = 'ACTION_SET_REJECT_STUDENT';\n","import { getRandomId } from '../../../Utils/common';\nimport { Action } from '../../d/reducers';\nimport { StudentState } from './d';\nimport Family from './d/Family';\nimport Student from './d/Student';\nimport {\n  ACTION_ADD_FAMILY_DRAFT,\n  ACTION_ADD_STUDENT_DRAFT, ACTION_GET_FAMILY, ACTION_GET_FAMILY_NATIONALITY, ACTION_GET_NATIONALITIES, ACTION_GET_STUDENTS, ACTION_GET_STUDENT_NATIONALITY, ACTION_HIDE_ADD_STUDENT_MODAL,\n  ACTION_POST_STUDENT, ACTION_PUT_STUDENT, ACTION_SELECT_STUDENT, ACTION_SET_APPROVE_STUDENT, ACTION_SET_FAMILY_DETAIL, ACTION_SET_REJECT_STUDENT, ACTION_SET_SEARCH, ACTION_SET_STUDENT_DETAIL\n} from './students.constants';\n\nexport const INITIAL_STATE_STUDENT:StudentState = {\n  students: [],\n  fetching: true,\n  searchQuery: '',\n  selectedStudentID: null,\n  nationalities: []\n};\n\nconst getStudentIndex = (students:Student[], ID:number) => students.findIndex((s) => s.ID === ID);\n\nexport function studentsReducer(state:StudentState, action:Action) {\n  switch (action.type) {\n    case ACTION_GET_NATIONALITIES: {\n      return {\n        ...state,\n        nationalities: action.payload\n      };\n    }\n    case ACTION_SET_SEARCH: {\n      return {\n        ...state,\n        searchQuery: action.payload\n      };\n    }\n    case ACTION_GET_STUDENTS: {\n      return {\n        ...state,\n        fetching: false,\n        students: action.payload\n      };\n    }\n    case ACTION_SELECT_STUDENT: {\n      return {\n        ...state,\n        selectedStudentID: action.payload\n      };\n    }\n    case ACTION_SET_STUDENT_DETAIL: {\n      const { students, selectedStudentID } = state;\n      if (selectedStudentID !== null) {\n        students[getStudentIndex(students, selectedStudentID)] = action.payload;\n      }\n      return {\n        ...state,\n        students\n      };\n    }\n    case ACTION_GET_FAMILY: {\n      const { students } = state;\n      students[getStudentIndex(students, action.payload.studentID)].family = action.payload.family;\n      return {\n        ...state,\n        students\n      };\n    }\n    case ACTION_PUT_STUDENT: {\n      const { students } = state;\n      const student = students[getStudentIndex(students, action.payload.ID)];\n      student.draft = false;\n      return {\n        ...state,\n        students\n      };\n    }\n\n    case ACTION_POST_STUDENT: {\n      const { students } = state;\n      return {\n        ...state,\n        students: [...students, action.payload]\n      };\n    }\n    case ACTION_ADD_STUDENT_DRAFT: {\n      const { students } = state;\n      const newID = 0;\n      const newStudent = new Student(newID, { draft: true });\n      const nationality = state.nationalities.length && state.nationalities[0];\n      if (nationality) {\n        newStudent.nationality = nationality;\n      }\n      return {\n        ...state,\n        selectedStudentID: newID,\n        students: [...students, newStudent]\n      };\n    }\n    case ACTION_HIDE_ADD_STUDENT_MODAL: {\n      const { students } = state;\n      return {\n        ...state,\n        selectedStudentID: null,\n        students: students.filter((s) => !s.draft)\n      };\n    }\n\n    case ACTION_ADD_FAMILY_DRAFT: {\n      const { students, selectedStudentID } = state;\n      const nationality = state.nationalities.length && state.nationalities[0];\n      if (selectedStudentID !== null) {\n        const student = students[getStudentIndex(students, selectedStudentID)];\n        const newFamily = new Family(getRandomId(), { draft: true });\n        if (nationality) {\n          newFamily.nationality = nationality;\n        }\n        student.family.push(newFamily);\n        students[getStudentIndex(students, selectedStudentID)] = student;\n      }\n\n      return {\n        ...state,\n        students\n      };\n    }\n\n    case ACTION_SET_FAMILY_DETAIL: {\n      const { students, selectedStudentID } = state;\n      if (selectedStudentID !== null) {\n        const { family } = students[getStudentIndex(students, selectedStudentID)];\n        const selectedFamilyID = action.payload.ID;\n        const selectedFamilyIndex = family.findIndex((f) => f.ID === selectedFamilyID);\n        family[selectedFamilyIndex] = new Family(selectedFamilyID, action.payload);\n      }\n      return {\n        ...state,\n        students\n      };\n    }\n    case ACTION_GET_STUDENT_NATIONALITY: {\n      const { students } = state;\n      const { studentID, nationality } = action.payload;\n      const student = students[getStudentIndex(students, studentID)];\n      student.nationality = nationality;\n\n      return {\n        ...state,\n        students\n      };\n    }\n\n    case ACTION_GET_FAMILY_NATIONALITY: {\n      const { students } = state;\n      return {\n        ...state,\n        students\n      };\n    }\n\n    case ACTION_SET_APPROVE_STUDENT: {\n      const { students } = state;\n      const student = students[getStudentIndex(students, action.payload.ID)];\n      student.approved = true;\n      return {\n        ...state,\n        students\n      };\n    }\n\n    case ACTION_SET_REJECT_STUDENT: {\n      const { students } = state;\n      const student = students[getStudentIndex(students, action.payload.ID)];\n      student.approved = false;\n      return {\n        ...state,\n        students\n      };\n    }\n\n    default:\n      break;\n  }\n  return state;\n}\n","// eslint-disable-next-line import/prefer-default-export\nexport const ACTION_SET_USERTYPE = 'ACTION_SET_USERTYPE';\n","import { Action } from '../../d/reducers';\nimport { UserState } from './d/user';\nimport { ACTION_SET_USERTYPE } from './user.constants';\n\nexport const userTypes = ['Admin', 'Registrar'];\n\nexport const INITIAL_STATE_USER:UserState = {\n  user: { type: userTypes[0] }\n};\n\nexport function userReducer(state:UserState, action:Action) {\n  // eslint-disable-next-line no-console\n  console.log(action);\n  switch (action.type) {\n    case ACTION_SET_USERTYPE: {\n      return {\n        ...state,\n        user: { type: action.payload }\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import { Action } from './d/reducers';\nimport { StudentState } from './modules/students/d';\nimport { INITIAL_STATE_STUDENT, studentsReducer } from './modules/students/students.reducer';\nimport { UserState } from './modules/user/d/user';\nimport { INITIAL_STATE_USER, userReducer } from './modules/user/user';\n\nexport type State = {\n  studentsData:StudentState\n  userData:UserState\n};\n\nexport const GLOBAL_INITIAL_STATE:State = {\n  studentsData: {\n    ...INITIAL_STATE_STUDENT\n  },\n  userData: {\n    ...INITIAL_STATE_USER\n  }\n};\n\nexport default ({ studentsData, userData }:State, action:Action):State => ({\n  studentsData: studentsReducer(studentsData, action),\n  userData: userReducer(userData, action)\n});\n","import {\n  createContext, Dispatch, ReactChild,\n  useContext, useReducer\n} from 'react';\nimport { Action } from './d/reducers';\nimport reducers, { GLOBAL_INITIAL_STATE, State } from './reducers';\n\nexport type ActionType = {\n  type: string,\n  payload: string\n};\n\nexport const StateContext = createContext<{\n  state: State;\n  dispatch: Dispatch<Action>; // action type here\n}>({\n  state: GLOBAL_INITIAL_STATE,\n  dispatch: () => null,\n});\n\ntype StateProviderProps = {\n  children:ReactChild\n};\n\nexport function StateProvider(props: StateProviderProps) {\n  const { children } = props;\n  const [state, dispatch] = useReducer(reducers, GLOBAL_INITIAL_STATE);\n  // eslint-disable-next-line react/jsx-no-constructed-context-values\n  const value = { state, dispatch };\n  return (\n    <StateContext.Provider value={value}>\n      {children}\n    </StateContext.Provider>\n  );\n}\n\nexport const useStateValue = () => useContext(StateContext);\n","import { Action } from '../../d/reducers';\nimport Family, { Nationality } from './d/Family';\nimport Student from './d/Student';\nimport {\n  ACTION_ADD_FAMILY_DRAFT,\n  ACTION_ADD_STUDENT_DRAFT, ACTION_GET_FAMILY, ACTION_GET_FAMILY_NATIONALITY, ACTION_GET_NATIONALITIES,\n  ACTION_GET_STUDENTS, ACTION_GET_STUDENT_NATIONALITY, ACTION_HIDE_ADD_STUDENT_MODAL,\n  ACTION_POST_FAMILY, ACTION_POST_STUDENT, ACTION_PUT_FAMILY, ACTION_PUT_FAMILY_NATIONALITY, ACTION_PUT_STUDENT,\n  ACTION_PUT_STUDENT_NATIONALITY,\n  ACTION_SELECT_STUDENT, ACTION_SET_APPROVE_STUDENT, ACTION_SET_FAMILY_DETAIL, ACTION_SET_REJECT_STUDENT, ACTION_SET_SEARCH, ACTION_SET_STUDENT_DETAIL\n} from './students.constants';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const setSearch = (q:string):Action => ({\n  type: ACTION_SET_SEARCH,\n  payload: q\n});\n\nexport const getStudents = (students:Student[] | any):Action => ({\n  type: ACTION_GET_STUDENTS,\n  payload: students\n});\n\nexport const getNationalities = (nationalities:Student[] | any):Action => ({\n  type: ACTION_GET_NATIONALITIES,\n  payload: nationalities\n});\n\nexport const putStudent = (student:Student | any):Action => ({\n  type: ACTION_PUT_STUDENT,\n  payload: student\n});\n\nexport const postStudent = (student:Student | any):Action => ({\n  type: ACTION_POST_STUDENT,\n  payload: student\n});\n\nexport const getFamily = (family:Family[] | any, studentID:number):Action => ({\n  type: ACTION_GET_FAMILY,\n  payload: { family, studentID }\n});\n\nexport const getStudentNationality = (nationality:Nationality | any, studentID:number):Action => ({\n  type: ACTION_GET_STUDENT_NATIONALITY,\n  payload: { nationality, studentID }\n});\n\nexport const getFamilyNationality = (nationality:Nationality | any, familyID:number):Action => ({\n  type: ACTION_GET_FAMILY_NATIONALITY,\n  payload: { nationality, familyID }\n});\n\nexport const putStudentNationality = (nationality:Nationality | any, studentID:number):Action => ({\n  type: ACTION_PUT_STUDENT_NATIONALITY,\n  payload: { nationality, studentID }\n});\n\nexport const putFamilyNationality = (nationality:Nationality | any, familyID:number):Action => ({\n  type: ACTION_PUT_FAMILY_NATIONALITY,\n  payload: { nationality, familyID }\n});\n\nexport const addFamily = (family?:Family):Action => ({\n  type: ACTION_ADD_FAMILY_DRAFT,\n  payload: family || undefined\n});\n\nexport const postFamily = (family:Family | any):Action => ({\n  type: ACTION_POST_FAMILY,\n  payload: family\n});\n\nexport const putFamily = (student:Student | any):Action => ({\n  type: ACTION_PUT_FAMILY,\n  payload: student\n});\n\nexport const setAddStudent = ():Action => ({\n  type: ACTION_ADD_STUDENT_DRAFT,\n});\n\nexport const setSelectStudent = (id:number):Action => ({\n  type: ACTION_SELECT_STUDENT,\n  payload: id\n});\n\nexport const setModalHide = ():Action => ({\n  type: ACTION_HIDE_ADD_STUDENT_MODAL,\n});\n\nexport const setStudentDetails = (student:Student):Action => ({\n  type: ACTION_SET_STUDENT_DETAIL,\n  payload: student\n});\n\nexport const setFamilyDetails = (family:Family):Action => ({\n  type: ACTION_SET_FAMILY_DETAIL,\n  payload: family\n});\n\nexport const setApproveStudent = (student:Student):Action => ({\n  type: ACTION_SET_APPROVE_STUDENT,\n  payload: student\n});\nexport const setRejectStudent = (student:Student):Action => ({\n  type: ACTION_SET_REJECT_STUDENT,\n  payload: student\n});\n","import { useStateValue } from '../state';\nimport { setSearch as ss } from '../state/modules/students/students.actions';\n/**\n * @author Abhishek Lal\n\n * @summary A react custom hook controller which handles the watchlist functionality\n */\n\nconst useSearch = () => {\n  const { state, dispatch } = useStateValue();\n  const { studentsData: { searchQuery } } = state;\n  const setSearch = (e:string) => {\n    dispatch(ss(e));\n  };\n\n  return { searchQuery, setSearch };\n};\nexport default useSearch;\n","import React from 'react';\nimport useSearch from '../../controllers/search.controller';\nimport classes from './SearchBox.module.scss';\n\n/**\n * @author Abhishek Lal\n * @summary React Element which renders a basic controlled input for Searching a student.\n */\n\nfunction SearchBox() {\n  const {\n    searchQuery, setSearch,\n  } = useSearch();\n\n  const onChange = (e:React.ChangeEvent<HTMLInputElement>) => {\n    setSearch(e.target.value);\n  };\n\n  return (\n    <input\n      className={classes.input}\n      placeholder=\"Search with ID, first name or last name\"\n      value={searchQuery}\n      onChange={onChange}\n    />\n  );\n}\n\nexport default React.memo(SearchBox);\n","import { useStateValue } from '../state';\nimport { userTypes } from '../state/modules/user/user';\n\nconst useUser = (draft = false) => {\n  const { state, } = useStateValue();\n  const { userData: { user: { type } } } = state;\n  const isDisabled = !draft && type === userTypes[0];\n  const isRegistar = type === userTypes[1];\n  return { userType: type, isDisabled, isRegistar };\n};\n\nexport default useUser;\n","import FormControl from '@mui/material/FormControl';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport MSelect, { SelectChangeEvent } from '@mui/material/Select';\nimport * as React from 'react';\nimport classes from './select.module.scss';\n\nexport type Option = {\n  value:any\n  label:string | number\n};\n\ntype SelectProps = {\n  options: Option[]\n  required: boolean,\n  title?: string,\n  name: string,\n  onChange: Function,\n  value: any,\n  disabled?:boolean\n};\n\nexport default function Select(props:SelectProps) {\n  const {\n    options, required = false, title = null, name, onChange, value, disabled = false\n  } = props;\n  const handleChange = (event: SelectChangeEvent) => onChange(event);\n\n  return (\n    <FormControl fullWidth className={classes.select}>\n      {title ? <InputLabel shrink className={classes.label} id={name}>{title}</InputLabel> : null}\n      <MSelect\n        labelId={name}\n        name={name}\n        value={value}\n        onChange={handleChange}\n        required={required}\n        variant=\"standard\"\n        disabled={disabled}\n      >\n        {options.map((o) => <MenuItem key={o.value} value={o.value}>{o.label}</MenuItem>)}\n      </MSelect>\n    </FormControl>\n  );\n}\n\nSelect.defaultProps = {\n  title: null,\n  disabled: false\n};\n","import React from 'react';\nimport useUser from '../../controllers/user.controller';\nimport { useStateValue } from '../../state';\nimport { userTypes } from '../../state/modules/user/user';\nimport { setUserType } from '../../state/modules/user/user.actions';\nimport Select, { Option } from '../Common/Select';\nimport classes from './selectUser.module.scss';\n\n/**\n * @author Abhishek Lal\n * @summary React Element which renders a dropdown to select user type\n */\nfunction SelectUser() {\n  const userOptions:Option[] = userTypes.map((u) => ({ value: u, label: u }));\n  const { dispatch } = useStateValue();\n  const { userType } = useUser();\n\n  const onChange = (e:React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = e.target;\n    dispatch(setUserType(value));\n  };\n  return (\n    <div className={classes.container}>\n      <Select onChange={onChange} options={userOptions} required name=\"usertype\" value={userType} />\n    </div>\n  );\n}\n\nexport default React.memo(SelectUser);\n","/* eslint-disable import/prefer-default-export */\nimport { Action } from '../../d/reducers';\nimport { ACTION_SET_USERTYPE } from './user.constants';\n\nexport const setUserType = (q:string):Action => ({\n  type: ACTION_SET_USERTYPE,\n  payload: q\n});\n","import axios from 'axios';\nimport React from 'react';\nimport { Action } from '../state/d/reducers';\nimport Family, { Nationality } from '../state/modules/students/d/Family';\nimport Student from '../state/modules/students/d/Student';\nimport * as StudentActions from '../state/modules/students/students.actions';\n\nconst API_BASE_URL = 'http://localhost:8088/api';\n\nexport const getStudents = (dispatch:React.Dispatch<Action>) => {\n  const url = `${API_BASE_URL}/Students`;\n  axios.get(url).then((d) => {\n    const students = d.data.map((s:Student) => new Student(s.ID, { firstName: s.firstName, lastName: s.lastName, dateOfBirth: s.dateOfBirth }));\n    dispatch(StudentActions.getStudents(students));\n  });\n};\n\nexport const getNationalities = (dispatch:React.Dispatch<Action>) => {\n  const url = `${API_BASE_URL}/Nationalities`;\n  axios.get(url).then((d) => {\n    const nationalities = d.data;\n    dispatch(StudentActions.getNationalities(nationalities));\n  });\n};\n\nexport const getFamily = (dispatch:React.Dispatch<Action>, id:number) => {\n  const url = `${API_BASE_URL}/Students/${id}/FamilyMembers/`;\n  axios.get(url).then((d) => {\n    dispatch(StudentActions.getFamily(d.data || [], id));\n  });\n};\n\nexport const postStudent = (dispatch:React.Dispatch<Action>, student:Student) => {\n  const url = `${API_BASE_URL}/Students`;\n  return axios.post(url, student).then(({ data }) => {\n    dispatch(StudentActions.postStudent(new Student(data.ID, data)));\n    return data;\n  });\n};\n\nexport const putStudent = (dispatch:React.Dispatch<Action>, student:Student) => {\n  const url = `${API_BASE_URL}/Students/${student.ID}`;\n  return axios.put(url, student).then(({ data }) => {\n    dispatch(StudentActions.putStudent(new Student(data.ID, data)));\n    return data;\n  });\n};\n\nexport const postFamily = (dispatch:React.Dispatch<Action>, student:Student, family:Family) => {\n  const url = `${API_BASE_URL}/Students/${student.ID}/FamilyMembers`;\n  return axios.post(url, family).then(({ data }) => {\n    dispatch(StudentActions.postFamily(new Family(data.ID, data)));\n    return data;\n  });\n};\n\nexport const putFamily = (dispatch:React.Dispatch<Action>, family:Family) => {\n  const url = `${API_BASE_URL}/FamilyMembers/${family.ID}/`;\n  return axios.put(url, family).then(({ data }) => {\n    dispatch(StudentActions.putFamily(new Family(data.ID, data)));\n    return data;\n  });\n};\n\nexport const getStudentNationality = (dispatch:React.Dispatch<Action>, id:number) => {\n  const url = `${API_BASE_URL}/Students/${id}/Nationality/`;\n  axios.get(url).then((d) => {\n    dispatch(StudentActions.getStudentNationality(d.data.nationality || [], id));\n  });\n};\n\nexport const getFamilyNationality = (dispatch:React.Dispatch<Action>, id:number) => {\n  const url = `${API_BASE_URL}/FamilyMembers/${id}/Nationality/`;\n  axios.get(url).then((d) => {\n    dispatch(StudentActions.getFamilyNationality(d.data.nationality || [], id));\n  });\n};\n\nexport const putStudentNationality = (dispatch:React.Dispatch<Action>, student:Student, nationality:Nationality) => {\n  const url = `${API_BASE_URL}/Students/${student.ID}/Nationality/${nationality.ID}`;\n  return axios.put(url).then((d) => {\n    dispatch(StudentActions.getStudentNationality(d.data.nationality || [], student.ID));\n  });\n};\n\nexport const putFamilyNationality = (dispatch:React.Dispatch<Action>, family:Family, nationality:Nationality) => {\n  const url = `${API_BASE_URL}/FamilyMembers/${family.ID}/Nationality/${nationality.ID}`;\n  return axios.put(url).then((d) => {\n    dispatch(StudentActions.putFamilyNationality(d.data.nationality || [], family.ID));\n  });\n};\n","import { useEffect } from 'react';\nimport { getNationalities, getStudents } from '../API/students';\nimport { useStateValue } from '../state';\n/**\n * @author Abhishek Lal\n\n * @summary A react custom hook controller which handles the students list functionality\n */\n\nconst useStudents = () => {\n  const { state, dispatch } = useStateValue();\n  const { studentsData: { students, fetching, searchQuery } } = state;\n  useEffect(() => {\n    if (!students.length) {\n      getStudents(dispatch);\n      getNationalities(dispatch);\n    }\n  }, []);\n  let visibleStudents = students.filter((s) => !s.draft);\n  if (searchQuery) {\n    visibleStudents = visibleStudents.filter((s) => s.ID === parseInt(searchQuery, 10) || [s.firstName, s.lastName].join(' ').toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1);\n  }\n\n  return {\n    students, fetching, searchQuery, visibleStudents\n  };\n};\nexport default useStudents;\n","import {\n  postFamily, postStudent, putFamily, putFamilyNationality, putStudent, putStudentNationality\n} from '../API/students';\nimport { useStateValue } from '../state';\nimport Family from '../state/modules/students/d/Family';\nimport Student from '../state/modules/students/d/Student';\nimport { setAddStudent } from '../state/modules/students/students.actions';\n/**\n * @author Abhishek Lal\n * @summary A react custom hook controller which handles modal state\n */\n\nconst useAddStudent = () => {\n  const { state, dispatch } = useStateValue();\n  const { studentsData: { selectedStudentID } } = state;\n  const addStudentDraft = () => {\n    dispatch(setAddStudent());\n  };\n  const updateStudent = (student:Student) => new Promise((resolveStudent) => {\n    // 1.Save Student\n    // 1.1 Save Student Nationality\n    // 2.Save Family\n    // 2.1 Save Family Nationality\n\n    let studentReq;\n    if (student.draft) {\n      studentReq = postStudent(dispatch, student);\n    } else {\n      studentReq = putStudent(dispatch, student);\n    }\n\n    studentReq.then((s) => {\n      Promise.all(student.family.map((family) => new Promise((resolveFamily) => {\n        let familyReq;\n        if (family.draft) {\n          familyReq = postFamily(dispatch, s, family);\n        } else {\n          familyReq = putFamily(dispatch, family);\n        }\n        familyReq.then((f:Family) => {\n          if (family.nationality) {\n            putFamilyNationality(dispatch, f, family.nationality).then(() => {\n              resolveFamily(null);\n            });\n          } else {\n            resolveFamily(null);\n          }\n        });\n      }))).then(() => {\n        if (student.nationality) {\n          putStudentNationality(dispatch, s, student.nationality).then(() => {\n            resolveStudent(null);\n          });\n        } else {\n          resolveStudent(null);\n        }\n      });\n    });\n  });\n  return {\n    selectedStudentID, addStudentDraft, updateStudent\n  };\n};\nexport default useAddStudent;\n","import React, { MouseEventHandler } from 'react';\nimport classes from './button.module.scss';\n\ntype ButtonProps = {\n  children: React.ReactChild\n  onClick?:MouseEventHandler\n  submit?:boolean\n  className?:string\n  disabled?:boolean\n  mini?:boolean\n  error?:boolean\n  form?:string\n  title?:string\n};\n\nfunction Button(props:ButtonProps) {\n  const {\n    disabled, submit, children, className, onClick,\n    mini, error, form, title = undefined\n  } = props;\n  const buttonClasses = [classes.button, className];\n  if (mini) {\n    buttonClasses.push(classes.mini);\n  }\n  if (error) {\n    buttonClasses.push(classes.error);\n  }\n  return (\n    <button\n      title={title}\n      type={submit ? 'submit' : 'button'}\n      disabled={disabled}\n      className={buttonClasses.join(' ')}\n      onClick={onClick || undefined}\n      form={form || undefined}\n    >\n      {children}\n    </button>\n  );\n}\n\nButton.defaultProps = {\n  className: '',\n  disabled: false,\n  mini: false,\n  error: false,\n  submit: false,\n  onClick: undefined,\n  form: undefined,\n  title: undefined\n};\n\nexport default Button;\n","import React from 'react';\nimport useAddStudent from '../../controllers/addStudent.controller';\nimport Button from '../Common/Button';\nimport classes from './addStudentRow.module.scss';\n\n/**\n * @author Abhishek Lal\n * @summary React Element which renders Button to add a Student\n */\n\nfunction AddStudentRow() {\n  const { addStudentDraft } = useAddStudent();\n  const onClick = () => {\n    addStudentDraft();\n  };\n  return (\n    <div className={classes.container}>\n      <Button className={classes.addButton} onClick={onClick}>\n        <>\n          <i className=\"lni lni-plus\" />\n          Add Student\n        </>\n      </Button>\n    </div>\n  );\n}\n\nexport default React.memo(AddStudentRow);\n","import React from 'react';\nimport useUser from '../../controllers/user.controller';\nimport { useStateValue } from '../../state';\nimport Student from '../../state/modules/students/d/Student';\nimport { setSelectStudent } from '../../state/modules/students/students.actions';\nimport { formatDate } from '../../Utils/common';\nimport Button from '../Common/Button';\nimport Label from '../Common/Labels';\nimport classes from './studentRow.module.scss';\n\n/**\n * @author Abhishek Lal\n * @summary React Element which renders a single student\n */\n\ntype StudentRowProp = {\n  student: Student\n};\n\nfunction StudentRow(prop:StudentRowProp) {\n  const { student } = prop;\n  const {\n    firstName, lastName, dateOfBirth, ID, approved\n  } = student;\n  const { dispatch } = useStateValue();\n  const onViewClick = () => {\n    dispatch(setSelectStudent(ID));\n  };\n  const { isDisabled } = useUser();\n  const approveIcon = ['lni'];\n  if (approved === true) {\n    approveIcon.push('lni-checkmark-circle');\n  } else if (approved === false) {\n    approveIcon.push('lni-cross-circle');\n  } else {\n    approveIcon.push('lni-pencil-alt');\n  }\n  return (\n    <div className={classes.container}>\n      <Label label={<i className={approveIcon.join(' ')} />} className={classes.status} />\n      <Label label={ID} className={classes.id} />\n      <Label label={`${firstName}`} className={classes.name} />\n      <Label label={lastName} className={classes.name} />\n      <Label label={dateOfBirth ? formatDate(dateOfBirth) : ''} className={classes.dob} />\n      <div className={classes.actions}>\n        {/* <Button className={classes.buttonDelete} mini error disabled={isDisabled}>Delete</Button> */}\n        <Button onClick={onViewClick} mini>{isDisabled ? 'View' : 'View/Edit'}</Button>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(StudentRow);\n","import React from 'react';\nimport Label from '../Common/Labels';\nimport classes from './studentRow.module.scss';\n\n/**\n * @author Abhishek Lal\n * @summary React Element which renders a the title row for the student list\n */\n\nfunction StudentTitleRow() {\n  return (\n    <div className={classes.titleContainer}>\n      <Label label=\"Status\" className={classes.status} />\n      <Label label=\"ID\" className={classes.id} />\n      <Label label=\"First Name\" className={classes.name} />\n      <Label label=\"Last Name\" className={classes.name} />\n      <Label label=\"Date of Birth\" className={classes.dob} />\n      <div className={classes.actions}>\n        <Label label=\"Actions\" className={classes.dob} />\n\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(StudentTitleRow);\n","import React from 'react';\nimport useStudents from '../../controllers/students.controller';\nimport Student from '../../state/modules/students/d/Student';\nimport AddStudentRow from '../AddStudentRow';\nimport StudentRow from '../StudentRow';\nimport StudentTitleRow from '../StudentRow/StudentTitleRow';\nimport classes from './studentList.module.scss';\n/**\n * @author Abhishek Lal\n * @summary React Element which renders the list of all the Students.\n */\n\nfunction StudentList() {\n  const { fetching, visibleStudents } = useStudents();\n  return (\n    <div className={classes.container}>\n      <StudentTitleRow />\n      {visibleStudents.map((s:Student) => <StudentRow key={s.ID} student={s} />)}\n      {!visibleStudents.length && !fetching ? 'No Students there!!' : null}\n      <AddStudentRow />\n      {fetching ? '...' : null}\n    </div>\n  );\n}\n\nexport default StudentList;\n","import { useStateValue } from '../state';\nimport { setModalHide } from '../state/modules/students/students.actions';\n/**\n * @author Abhishek Lal\n * @summary A react custom hook controller which handles modal state\n */\n\nconst useModal = () => {\n  const { dispatch } = useStateValue();\n\n  const hideModal = () => {\n    dispatch(setModalHide());\n  };\n  return {\n    hideModal\n  };\n};\nexport default useModal;\n","import { Option } from '../components/Common/Select';\nimport { useStateValue } from '../state';\n\nconst useNationality = () => {\n  const { state } = useStateValue();\n  const { studentsData: { nationalities } } = state;\n  const nationalityOptions:Option[] = nationalities.map((n) => ({ value: n.ID, label: n.Title }));\n\n  return { nationalities, nationalityOptions };\n};\n\nexport default useNationality;\n","import { useEffect } from 'react';\nimport { getStudentNationality } from '../API/students';\nimport { useStateValue } from '../state';\nimport Student from '../state/modules/students/d/Student';\n\n/**\n * @author Abhishek Lal\n\n * @summary A react custom hook controller which handles the students list functionality\n */\n\nconst useStudent = () => {\n  const { state, dispatch } = useStateValue();\n  const { studentsData: { students, selectedStudentID } } = state;\n\n  const student = students.find((s:Student) => s.ID === selectedStudentID) || new Student(0);\n\n  useEffect(() => {\n    if (selectedStudentID !== null && student && (!student.nationality) && !student.draft) {\n      getStudentNationality(dispatch, selectedStudentID);\n    }\n  }, [selectedStudentID, students]);\n\n  return { student };\n};\nexport default useStudent;\n","import React from 'react';\nimport classes from './block.module.scss';\n\ntype BlockProps = {\n  children: React.ReactChild\n  title:string\n  className?:string\n};\n\nfunction Block(props:BlockProps) {\n  const {\n    title, children, className,\n  } = props;\n\n  const blockClasses = [classes.block, className];\n\n  return (\n\n    <div className={blockClasses.join(' ')}>\n      <span className={classes.title}>{title}</span>\n      <div className={classes.body}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nBlock.defaultProps = {\n  className: '',\n};\n\nexport default Block;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport TextField from '@mui/material/TextField';\nimport * as React from 'react';\nimport { formatDateValue } from '../../../Utils/common';\nimport classes from './datePicker.module.scss';\n\ntype DatePickerProps = {\n  onChange:React.ChangeEventHandler\n  title: string\n  name:string\n  value:string\n  className?:string\n  disabled?:boolean\n  required?:boolean\n};\n\nexport default function DatePicker(props:DatePickerProps) {\n  const {\n    disabled, className, onChange,\n    title, required = false,\n    name, value\n  } = props;\n\n  return (\n    <TextField\n      label={title}\n      value={formatDateValue(value)}\n      type=\"date\"\n      InputLabelProps={{ shrink: true }}\n      disabled={disabled}\n      className={[classes.datePicker, className].join(' ')}\n      onChange={onChange}\n      required={required}\n      name={name}\n      fullWidth\n      variant=\"standard\"\n      placeholder=\"tada\"\n      inputProps={{\n        min: '1980-01-01',\n        max: '2030-12-31',\n        pattern: '\\\\d{2}/\\\\d{2}/\\\\d{4}',\n      }}\n    />\n  );\n}\n\nDatePicker.defaultProps = {\n  className: '',\n  disabled: false,\n  required: false\n};\n","import React from 'react';\nimport classes from './errorBox.module.scss';\n\ntype ErrorBoxProps = {\n  children: React.ReactChild\n  title?:string\n  className?:string\n};\n\nfunction ErrorBox(props:ErrorBoxProps) {\n  const {\n    title = null, children, className,\n  } = props;\n\n  const blockClasses = [classes.block, className];\n\n  return (\n    <div className={blockClasses.join(' ')}>\n      {title ? <span className={classes.title}>{title}</span> : null}\n      <div className={classes.body}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nErrorBox.defaultProps = {\n  className: '',\n  title: null\n};\n\nexport default ErrorBox;\n","import { TextField } from '@mui/material';\nimport React from 'react';\nimport classes from './input.module.scss';\n\ntype InputProps = {\n  onChange:React.ChangeEventHandler\n  title: string\n  name:string\n  value:string | number\n  type?:string\n  className?:string\n  disabled?:boolean\n  required?:boolean\n};\n\nfunction Input(props:InputProps) {\n  const {\n    disabled, className, onChange,\n    title, type, required = false,\n    name, value\n  } = props;\n  let v = value;\n  if (type === 'date' && value) {\n    const date = new Date(value);\n    [v] = date.toISOString().split('T');\n  }\n  const tClasses = {\n    root: [classes.input, className].join(' ')\n  };\n  return (\n    <TextField\n      label={title}\n      value={v}\n      type={type}\n      disabled={disabled}\n      classes={tClasses}\n      onChange={onChange}\n      required={required}\n      name={name}\n      fullWidth\n      variant=\"standard\"\n      InputLabelProps={{ shrink: true }}\n    />\n  );\n}\n\nInput.defaultProps = {\n  className: '',\n  disabled: false,\n  type: 'text',\n  required: false\n};\n\nexport default Input;\n","import React, { MouseEventHandler } from 'react';\nimport Button from '../Button';\nimport classes from './modal.module.scss';\n\ntype ModalProps = {\n  children: React.ReactChild\n  title:string\n  open:boolean\n  onClose:MouseEventHandler\n  className?:string\n};\n\nfunction Modal(props:ModalProps) {\n  const {\n    open, title, children, className, onClose\n  } = props;\n\n  const modalClasses = [classes.modal, className];\n  if (open) {\n    modalClasses.push(classes.open);\n  } else {\n    return null;\n  }\n\n  return (\n    <div className={modalClasses.join(' ')}>\n      <div className={classes.underlay} />\n\n      <div className={classes.container}>\n        <div className={classes.title}>\n          {title}\n          <Button onClick={onClose} className={classes.close}><i className=\"lni lni-close\" /></Button>\n        </div>\n        <div className={classes.body}>\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nModal.defaultProps = {\n  className: '',\n};\n\nexport default Modal;\n","import { useEffect, useState } from 'react';\nimport { getFamily } from '../API/students';\nimport { useStateValue } from '../state';\nimport Family from '../state/modules/students/d/Family';\nimport * as StudentActions from '../state/modules/students/students.actions';\n\n/**\n * @author Abhishek Lal\n\n * @summary A react custom hook controller which handles the students list functionality\n */\n\nconst useFamily = () => {\n  const { state, dispatch } = useStateValue();\n  const { studentsData: { students, fetching, selectedStudentID } } = state;\n  const selectedStudent = students.find(({ ID }) => ID === selectedStudentID);\n  const [selectedFamilyID, setSelectedFamilyID] = useState<number | null>(null);\n\n  useEffect(() => {\n    if (selectedStudentID !== null && selectedStudent && (!selectedStudent.family.length) && !selectedStudent.draft) {\n      getFamily(dispatch, selectedStudentID);\n    }\n    setSelectedFamilyID(null);\n  }, [selectedStudentID, students]);\n\n  const family:Family[] = selectedStudent ? selectedStudent.family : [];\n  const selectedFamily = selectedFamilyID ? family.find((f) => f.ID === selectedFamilyID) : null;\n\n  useEffect(() => {\n    if (family.length) {\n      setSelectedFamilyID(family[family.length - 1].ID);\n    } else {\n      setSelectedFamilyID(null);\n    }\n  }, [family.length]);\n\n  useEffect(() => {\n  }, [family]);\n  const addFamily = () => {\n    dispatch(StudentActions.addFamily());\n  };\n\n  return {\n    family, fetching, addFamily, selectedFamily, setSelectedFamilyID, selectedFamilyID, selectedStudent\n  };\n};\nexport default useFamily;\n","import React from 'react';\nimport useFamily from '../../controllers/family.controller';\nimport Button from '../Common/Button';\nimport classes from './addFamilyRow.module.scss';\n\ntype AddFamilyRowProps = {\n  disabled:boolean\n};\n\n/**\n * @author Abhishek Lal\n * @summary React Element which renders Button to add a Family Member\n */\nfunction AddFamilyRow(props:AddFamilyRowProps) {\n  const { disabled } = props;\n  const { addFamily } = useFamily();\n  const onClick = () => {\n    addFamily();\n  };\n  return (\n    <div className={classes.container}>\n      <Button className={classes.addButton} onClick={onClick} disabled={disabled} title=\"Please complete the last family to add more\">\n        <>\n          <i className=\"lni lni-plus\" />\n          Add Family Member\n        </>\n      </Button>\n    </div>\n  );\n}\n\nexport default React.memo(AddFamilyRow);\n","import React from 'react';\nimport useNationality from '../../controllers/nationality.controller';\nimport useUser from '../../controllers/user.controller';\nimport { useStateValue } from '../../state';\nimport Family, { isFamilyValid, Nationality, relationOptions } from '../../state/modules/students/d/Family';\nimport { setFamilyDetails } from '../../state/modules/students/students.actions';\nimport DatePicker from '../Common/DatePicker';\nimport ErrorBox from '../Common/ErrorBox';\nimport Input from '../Common/Input';\nimport Label from '../Common/Labels';\nimport Select from '../Common/Select';\nimport classes from './familyEditor.module.scss';\n\ntype FamilyEditorProps = {\n  family: Family\n  markError: boolean\n\n};\n\nfunction FamilyEditor(props:FamilyEditorProps) {\n  const { family, markError } = props;\n  const {\n    firstName, lastName, dateOfBirth, relationship, nationality\n  } = family;\n\n  const { nationalities, nationalityOptions } = useNationality();\n  const { dispatch } = useStateValue();\n  const onInputChange = (e:React.ChangeEvent<HTMLInputElement>) => {\n    const key = e.target.name;\n    const { value } = e.target;\n    let fValue:string | Nationality | undefined = value;\n    if (key === 'nationality') {\n      fValue = nationalities.find((n) => n.ID === parseInt(value, 10));\n    }\n    const familyUpdate = {\n      ...family,\n      [key]: fValue\n    };\n    dispatch(setFamilyDetails(familyUpdate));\n  };\n\n  const onDateChange = (d:any) => {\n    if (d && d.target.value) {\n      const familyUpdate = {\n        ...family,\n        dateOfBirth: d.target.value\n      };\n      dispatch(setFamilyDetails(familyUpdate));\n    }\n  };\n  const { messages } = isFamilyValid(family);\n  const { isDisabled } = useUser(family.draft);\n  return (\n    <div>\n      <Label label=\"Edit Family Member\" className={classes.title} />\n      <Input required title=\"First Name\" name=\"firstName\" onChange={onInputChange} value={firstName} disabled={isDisabled} />\n      <Input required title=\"Last Name\" name=\"lastName\" onChange={onInputChange} value={lastName} disabled={isDisabled} />\n      <Select required title=\"Relationship\" name=\"relationship\" onChange={onInputChange} value={relationship} options={relationOptions} disabled={isDisabled} />\n      <Select required title=\"Nationality\" name=\"nationality\" onChange={onInputChange} value={nationality && nationality.ID} options={nationalityOptions} disabled={isDisabled} />\n      <DatePicker title=\"Date of Birth\" onChange={onDateChange} value={dateOfBirth} name=\"dateOfBirth\" disabled={isDisabled} />\n      {messages.length && markError ? <ErrorBox>{messages.join('; ')}</ErrorBox> : null}\n      {/* {messages.join(' ')} */}\n    </div>\n  );\n}\n\nexport default FamilyEditor;\n","import React from 'react';\nimport Family from '../../state/modules/students/d/Family';\nimport Button from '../Common/Button';\nimport Label from '../Common/Labels';\nimport classes from './familyRow.module.scss';\n\n/**\n * @author Abhishek Lal\n * @summary React Element which renders a single student\n */\n\ntype FamilyRowProp = {\n  family: Family\n  onClick: Function\n  error: boolean\n};\n\nfunction FamilyRow(prop:FamilyRowProp) {\n  const { family, onClick: oc, error } = prop;\n  const {\n    firstName, lastName, ID, nationality, relationship,\n  } = family;\n  const { Title = '-' } = nationality || {};\n\n  const onClick = () => {\n    oc(ID);\n  };\n  const containerClasses = [classes.container];\n  if (error) {\n    containerClasses.push(classes.error);\n  }\n  return (\n    <div className={containerClasses.join(' ')}>\n      <Label label={firstName ? `${firstName} ${lastName}` : '-'} className={classes.name} />\n      <Label label={relationship || '-'} className={classes.relationship} />\n      <Label label={Title || '-'} className={classes.nationality} />\n      <Button mini onClick={onClick}>View</Button>\n      {/* <Button error mini onClick={onClick}>Delete</Button> */}\n    </div>\n  );\n}\n\nexport default React.memo(FamilyRow);\n","import React from 'react';\nimport useFamily from '../../controllers/family.controller';\nimport useUser from '../../controllers/user.controller';\nimport Family, { isFamilyValid } from '../../state/modules/students/d/Family';\nimport AddFamilyRow from '../AddFamilyRow';\nimport FamilyEditor from '../FamilyEditor';\nimport FamilyRow from '../FamilyRow';\nimport classes from './familyList.module.scss';\n\n/**\n * @author Abhishek Lal\n * @summary React Element which renders the list of all the Students.\n */\n\ntype FamilyListProps = {\n  markError: boolean\n};\n\nfunction FamilyList(props:FamilyListProps) {\n  const { markError } = props;\n  const {\n    family, fetching, setSelectedFamilyID, selectedFamily, selectedStudent\n  } = useFamily();\n  const { isDisabled } = useUser();\n  const addEnabled = (selectedStudent && selectedStudent.draft) || !isDisabled;\n  const allowAdd = !family.find((f) => !isFamilyValid(f).valid);\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.list}>\n\n        <AddFamilyRow disabled={!allowAdd || !addEnabled} />\n        {family.map((f:Family) => <FamilyRow error={markError && !isFamilyValid(f).valid} key={f.ID} family={f} onClick={setSelectedFamilyID} />)}\n        {!family.length ? 'No Family there!!' : null}\n        {fetching ? '...' : null}\n      </div>\n      {selectedFamily ? (\n        <div className={classes.editor}>\n          <FamilyEditor family={selectedFamily} markError={markError} />\n        </div>\n      ) : null }\n    </div>\n  );\n}\n\nexport default FamilyList;\n","import React, { useCallback, useState } from 'react';\nimport useAddStudent from '../../controllers/addStudent.controller';\nimport useModal from '../../controllers/modal.controller';\nimport useNationality from '../../controllers/nationality.controller';\nimport useStudent from '../../controllers/student.controller';\nimport useUser from '../../controllers/user.controller';\nimport { useStateValue } from '../../state';\nimport { Nationality } from '../../state/modules/students/d/Family';\nimport { isStudentValid } from '../../state/modules/students/d/Student';\nimport { setApproveStudent, setRejectStudent, setStudentDetails } from '../../state/modules/students/students.actions';\nimport Block from '../Common/Block';\nimport Button from '../Common/Button';\nimport DatePicker from '../Common/DatePicker';\nimport ErrorBox from '../Common/ErrorBox';\nimport Input from '../Common/Input';\nimport Modal from '../Common/Modal';\nimport Select from '../Common/Select';\nimport FamilyList from '../FamilyList';\nimport classes from './studentModal.module.scss';\n\n/**\n * @author Abhishek Lal\n * @summary React Element which renders a single student\n */\n\nfunction StudentModal() {\n  const { selectedStudentID, updateStudent } = useAddStudent();\n  const { hideModal, } = useModal();\n  const { student } = useStudent();\n  const { dispatch } = useStateValue();\n  const { nationalityOptions, nationalities } = useNationality();\n  const [errorMessages, setErrorMessages] = useState<string[]>([]);\n\n  const {\n    firstName, lastName, dateOfBirth, nationality\n  } = student;\n\n  const onClose = () => {\n    hideModal();\n  };\n\n  // useEffect(() => {\n  //   setErrorMessages([]);\n  // }, [student]);\n\n  const onSubmit = useCallback((e:React.SyntheticEvent) => {\n    e.preventDefault();\n    const { valid, messages } = isStudentValid(student);\n    if (valid) {\n      updateStudent(student).then(() => {\n        hideModal();\n      });\n    } else {\n      setErrorMessages(messages);\n    }\n  }, [student]);\n\n  const onInputChange = (e:React.ChangeEvent<HTMLInputElement>) => {\n    const key = e.target.name;\n    const { value } = e.target;\n    let fValue:string | Nationality | undefined = value;\n    if (key === 'nationality') {\n      fValue = nationalities.find((n) => n.ID === parseInt(value, 10));\n    }\n    const studentNew = {\n      ...student,\n      [key]: fValue\n    };\n\n    dispatch(setStudentDetails(studentNew));\n  };\n\n  const onDateChange = (d:any) => {\n    if (d && d.target.value) {\n      const studentNew = {\n        ...student,\n        dateOfBirth: d.target.value\n      };\n      dispatch(setStudentDetails(studentNew));\n    }\n  };\n  const onApprove = () => {\n    dispatch(setApproveStudent(student));\n    hideModal();\n  };\n  const onReject = () => {\n    dispatch(setRejectStudent(student));\n    hideModal();\n  };\n\n  const { isDisabled, isRegistar } = useUser(!!student.draft);\n  const open = selectedStudentID !== null;\n  let status = '[PENDING]';\n  status = student.approved === true ? '[APPROVED]' : status;\n  status = student.approved === false ? '[REJECTED]' : status;\n  status = isRegistar ? status : '';\n\n  const title = `${status} ${student.draft ? 'Add Student' : 'Edit Student'}`;\n\n  return (\n    <Modal open={open} onClose={onClose} title={title}>\n      <div className={classes.form}>\n        <form id=\"myform\" onSubmit={onSubmit}>\n          <div className={classes.container}>\n            <Input title=\"First Name\" name=\"firstName\" onChange={onInputChange} value={firstName} disabled={isDisabled} />\n            <Input title=\"Last Name\" name=\"lastName\" onChange={onInputChange} value={lastName} disabled={isDisabled} />\n            <Select required title=\"Nationality\" name=\"nationality\" onChange={onInputChange} value={nationality && nationality.ID} options={nationalityOptions} disabled={isDisabled} />\n            <DatePicker title=\"Date of Birth\" onChange={onDateChange} value={dateOfBirth} name=\"dateOfBirth\" disabled={isDisabled} />\n          </div>\n        </form>\n        <Block title=\"Family Members\">\n          <FamilyList markError={!!errorMessages.length} />\n        </Block>\n        <div className={classes.actions}>\n          {errorMessages.length ? <ErrorBox>{errorMessages.join('; ')}</ErrorBox> : null}\n          <Button submit className={classes.button} form=\"myform\">Save</Button>\n          {isRegistar ? (\n            <>\n              <Button className={classes.button} onClick={onApprove}>Approve</Button>\n              <Button className={classes.button} onClick={onReject}>Reject</Button>\n            </>\n          ) : null}\n          {/* <Button reset className={classes.button}>Reset</Button> */}\n        </div>\n      </div>\n\n    </Modal>\n  );\n}\n\nexport default React.memo(StudentModal);\n","import classes from './App.module.scss';\nimport Label from './components/Common/Labels';\nimport SearchBox from './components/SearchBox';\nimport SelectUser from './components/SelectUser';\nimport StudentList from './components/StudentList';\nimport StudentModal from './components/StudentModal';\n\n/**\n * @author Abhishek Lal\n * @summary React Element which defines the app layout\n */\n\nfunction App() {\n  return (\n    <div className={classes.app}>\n      <div className={classes.searchContainer}>\n        <Label label=\"Students APP\" className={classes.title} />\n        <SearchBox />\n        <SelectUser />\n      </div>\n      <div className={classes.container}>\n        <StudentList />\n      </div>\n      <StudentModal />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport { StateProvider } from './state';\n\nReactDOM.render(\n  <StateProvider>\n    <App />\n  </StateProvider>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleContainer\":\"studentRow_titleContainer__2UKc4\",\"container\":\"studentRow_container__2i_LP\",\"status\":\"studentRow_status__tjeTn\",\"id\":\"studentRow_id__2NKLv\",\"name\":\"studentRow_name__3RPfH\",\"dob\":\"studentRow_dob__wz56l\",\"actions\":\"studentRow_actions__2Q7SV\",\"buttonDelete\":\"studentRow_buttonDelete__1fwCR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1MFiy\",\"open\":\"modal_open__1n4-W\",\"underlay\":\"modal_underlay__3jaBx\",\"container\":\"modal_container__clBND\",\"title\":\"modal_title__1b4vj\",\"body\":\"modal_body__1AjZ6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actions\":\"studentModal_actions__15xlK\",\"button\":\"studentModal_button__DGK01\",\"form\":\"studentModal_form__3hAE0\",\"container\":\"studentModal_container__35wPX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"familyRow_container__1h2gh\",\"error\":\"familyRow_error__1zgNC\",\"id\":\"familyRow_id__35uxI\",\"name\":\"familyRow_name__k0rpk\",\"relationship\":\"familyRow_relationship__2addB\",\"nationality\":\"familyRow_nationality__1zPYw\",\"dob\":\"familyRow_dob__1reVk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2ziFi\",\"searchContainer\":\"App_searchContainer__GjdwS\",\"container\":\"App_container__eSJ6i\",\"title\":\"App_title__2oBiX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2E0F5\",\"mini\":\"button_mini__3TJT6\",\"error\":\"button_error__2WB5U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"block_block__cHoCW\",\"body\":\"block_body__2yeNa\",\"title\":\"block_title__1lipq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"errorBox_block__8BeM2\",\"body\":\"errorBox_body__2-zH4\",\"title\":\"errorBox_title__11hle\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"familyList_container__3xyRv\",\"list\":\"familyList_list__TuX2H\",\"editor\":\"familyList_editor__35LSa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"select_select__2YKwj\",\"label\":\"select_label__-4N7o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"addStudentRow_container__2a3LF\",\"addButton\":\"addStudentRow_addButton__2r79-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"addFamilyRow_container__3O0aS\",\"addButton\":\"addFamilyRow_addButton__3gm5o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"label_label__1p9XO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"SearchBox_input__3ryuD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"selectUser_container__2X8Th\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"studentList_container__35QpG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"datePicker\":\"datePicker_datePicker__1Z396\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"input_input__2tOEp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"familyEditor_title__XlC97\"};"],"sourceRoot":""}