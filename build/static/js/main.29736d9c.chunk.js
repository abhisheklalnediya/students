(this["webpackJsonpcapabilities-test-abhishek"]=this["webpackJsonpcapabilities-test-abhishek"]||[]).push([[0],{132:function(t,e,a){},133:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),s=a(31),r=a.n(s),l=a(46),c=a.n(l),o=a(82),d=a.n(o),u=a(1);function f(t){var e=t.label,a=t.className,n=void 0===a?"":a;return Object(u.jsx)("div",{className:[n,d.a.label].join(" "),children:e})}f.defaultProps={className:""};var m=f,b=a(10),j=a(7),h=a(16),p=a(171),v=function(){return Math.floor(1e5*Math.random())},O=function(t){return Object(p.a)(t?new Date(t):new Date,"yyyy-MM-dd")},_=a(36),y=a(37),N=[{value:"Parent",label:"Parent"},{value:"Sibling",label:"Sibling"},{value:"Uncle",label:"Uncle"},{value:"Aunt",label:"Aunt"}],x=Object(_.a)((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v(),a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.firstName,i=void 0===n?"":n,s=a.lastName,r=void 0===s?"":s,l=a.dateOfBirth,c=void 0===l?O():l,o=a.nationality,d=void 0===o?null:o,u=a.relationship,f=void 0===u?N[0].value:u,m=a.draft,b=void 0!==m&&m;Object(y.a)(this,t),this.ID=void 0,this.firstName=void 0,this.lastName=void 0,this.dateOfBirth=void 0,this.nationality=void 0,this.relationship=void 0,this.draft=!1,this.ID=e,this.firstName=i,this.lastName=r,this.dateOfBirth=c,this.nationality=d,this.relationship=f,this.draft=b})),D=function(t){var e=[];return t.firstName||e.push("First Name cannot be Empty"),t.lastName||e.push("Last Name cannot be Empty"),t.dateOfBirth||e.push("Date of birth is empty or not valid"),t.nationality||e.push("Nationality is empty or not valid"),t.relationship||e.push("Relationship is empty or not valid"),{valid:!!t.firstName&&!!t.lastName&&!!t.dateOfBirth&&!!t.nationality&&!!t.relationship,messages:e}},I=Object(_.a)((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.firstName,i=void 0===n?"":n,s=a.lastName,r=void 0===s?"":s,l=a.dateOfBirth,c=void 0===l?O():l,o=a.nationality,d=void 0===o?null:o,u=a.family,f=void 0===u?[]:u,m=a.draft,b=void 0!==m&&m;Object(y.a)(this,t),this.ID=void 0,this.firstName="",this.lastName="",this.dateOfBirth="",this.family=[],this.nationality=void 0,this.draft=!1,this.approved=null,this.ID=e,this.firstName=i,this.lastName=r,this.dateOfBirth=c,this.family=f,this.nationality=d,this.draft=b})),T="ACTION_GET_NATIONALITIES",S="ACTION_SET_SEARCH",g="ACTION_ADD_STUDENT_DRAFT",C="ACTION_HIDE_ADD_STUDENT_MODAL",A="ACTION_GET_STUDENTS",E="ACTION_POST_STUDENT",w="ACTION_PUT_STUDENT",k="ACTION_SELECT_STUDENT",B="ACTION_SET_STUDENT_DETAIL",F="ACTION_GET_STUDENT_NATIONALITY",P="ACTION_GET_FAMILY",R="ACTION_ADD_FAMILY_DRAFT",L="ACTION_SET_FAMILY_DETAIL",M="ACTION_GET_FAMILY_NATIONALITY",U="ACTION_SET_APPROVE_STUDENT",q="ACTION_SET_REJECT_STUDENT",Y=function(t,e){return t.findIndex((function(t){return t.ID===e}))};function G(t,e){switch(e.type){case T:return Object(j.a)(Object(j.a)({},t),{},{nationalities:e.payload});case S:return Object(j.a)(Object(j.a)({},t),{},{searchQuery:e.payload});case A:return Object(j.a)(Object(j.a)({},t),{},{fetching:!1,students:e.payload});case k:return Object(j.a)(Object(j.a)({},t),{},{selectedStudentID:e.payload});case B:var a=t.students,n=t.selectedStudentID;return null!==n&&(a[Y(a,n)]=e.payload),Object(j.a)(Object(j.a)({},t),{},{students:a});case P:var i=t.students;return i[Y(i,e.payload.studentID)].family=e.payload.family,Object(j.a)(Object(j.a)({},t),{},{students:i});case w:var s=t.students;return s[Y(s,e.payload.ID)].draft=!1,Object(j.a)(Object(j.a)({},t),{},{students:s});case E:var r=t.students;return Object(j.a)(Object(j.a)({},t),{},{students:[].concat(Object(h.a)(r),[e.payload])});case g:var l=t.students,c=new I(0,{draft:!0}),o=t.nationalities.length&&t.nationalities[0];return o&&(c.nationality=o),Object(j.a)(Object(j.a)({},t),{},{selectedStudentID:0,students:[].concat(Object(h.a)(l),[c])});case C:var d=t.students;return Object(j.a)(Object(j.a)({},t),{},{selectedStudentID:null,students:d.filter((function(t){return!t.draft}))});case R:var u=t.students,f=t.selectedStudentID,m=t.nationalities.length&&t.nationalities[0];if(null!==f){var b=u[Y(u,f)],p=new x(v(),{draft:!0});m&&(p.nationality=m),b.family.push(p),u[Y(u,f)]=b}return Object(j.a)(Object(j.a)({},t),{},{students:u});case L:var O=t.students,_=t.selectedStudentID;if(null!==_){var y=O[Y(O,_)].family,N=e.payload.ID,D=y.findIndex((function(t){return t.ID===N}));y[D]=new x(N,e.payload)}return Object(j.a)(Object(j.a)({},t),{},{students:O});case F:var G=t.students,Q=e.payload,V=Q.studentID,H=Q.nationality;return G[Y(G,V)].nationality=H,Object(j.a)(Object(j.a)({},t),{},{students:G});case M:var J=t.students;return Object(j.a)(Object(j.a)({},t),{},{students:J});case U:var W=t.students;return W[Y(W,e.payload.ID)].approved=!0,Object(j.a)(Object(j.a)({},t),{},{students:W});case q:var X=t.students;return X[Y(X,e.payload.ID)].approved=!1,Object(j.a)(Object(j.a)({},t),{},{students:X})}return t}var Q="ACTION_SET_USERTYPE",V=["Admin","Registrar"],H={user:{type:V[0]}};function J(t,e){return console.log(e),e.type===Q?Object(j.a)(Object(j.a)({},t),{},{user:{type:e.payload}}):t}var W={studentsData:Object(j.a)({},{students:[],fetching:!0,searchQuery:"",selectedStudentID:null,nationalities:[]}),userData:Object(j.a)({},H)},X=function(t,e){var a=t.studentsData,n=t.userData;return{studentsData:G(a,e),userData:J(n,e)}},z=Object(n.createContext)({state:W,dispatch:function(){return null}});function K(t){var e=t.children,a=Object(n.useReducer)(X,W),i=Object(b.a)(a,2),s={state:i[0],dispatch:i[1]};return Object(u.jsx)(z.Provider,{value:s,children:e})}var Z=function(){return Object(n.useContext)(z)},$=function(t,e){return{type:F,payload:{nationality:t,studentID:e}}},tt=function(t){return{type:B,payload:t}},et=function(t){return{type:L,payload:t}},at=function(){var t=Z(),e=t.state,a=t.dispatch;return{searchQuery:e.studentsData.searchQuery,setSearch:function(t){a({type:S,payload:t})}}},nt=a(86),it=a.n(nt);function st(){var t=at(),e=t.searchQuery,a=t.setSearch;return Object(u.jsx)("input",{className:it.a.input,placeholder:"Search with ID, first name or last name",value:e,onChange:function(t){a(t.target.value)}})}var rt=i.a.memo(st),lt=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Z(),a=e.state,n=a.userData.user.type,i=!t&&n===V[0],s=n===V[1];return{userType:n,isDisabled:i,isRegistar:s}},ct=a(174),ot=a(175),dt=a(172),ut=a(170),ft=a(65),mt=a.n(ft);function bt(t){var e=t.options,a=t.required,n=void 0!==a&&a,i=t.title,s=void 0===i?null:i,r=t.name,l=t.onChange,c=t.value,o=t.disabled,d=void 0!==o&&o;return Object(u.jsxs)(ct.a,{fullWidth:!0,className:mt.a.select,children:[s?Object(u.jsx)(ot.a,{shrink:!0,className:mt.a.label,id:r,children:s}):null,Object(u.jsx)(ut.a,{labelId:r,name:r,value:c,onChange:function(t){return l(t)},required:n,variant:"standard",disabled:d,children:e.map((function(t){return Object(u.jsx)(dt.a,{value:t.value,children:t.label},t.value)}))})]})}bt.defaultProps={title:null,disabled:!1};var jt=a(88),ht=a.n(jt);function pt(){var t=V.map((function(t){return{value:t,label:t}})),e=Z().dispatch,a=lt().userType;return Object(u.jsx)("div",{className:ht.a.container,children:Object(u.jsx)(bt,{onChange:function(t){var a=t.target.value;e({type:Q,payload:a})},options:t,required:!0,name:"usertype",value:a})})}var vt=i.a.memo(pt),Ot=a(26),_t=a.n(Ot),yt="http://localhost:8088/api",Nt=function(t){var e="".concat(yt,"/Students");_t.a.get(e).then((function(e){var a=e.data.map((function(t){return new I(t.ID,{firstName:t.firstName,lastName:t.lastName,dateOfBirth:t.dateOfBirth})}));t(function(t){return{type:A,payload:t}}(a))}))},xt=function(t){var e="".concat(yt,"/Nationalities");_t.a.get(e).then((function(e){var a=e.data;t(function(t){return{type:T,payload:t}}(a))}))},Dt=function(t,e){var a="".concat(yt,"/Students/").concat(e,"/FamilyMembers/");_t.a.get(a).then((function(a){var n;t((n=a.data||[],{type:P,payload:{family:n,studentID:e}}))}))},It=function(t,e){var a="".concat(yt,"/Students");return _t.a.post(a,e).then((function(e){var a=e.data;return t(function(t){return{type:E,payload:t}}(new I(a.ID,a))),a}))},Tt=function(t,e){var a="".concat(yt,"/Students/").concat(e.ID);return _t.a.put(a,e).then((function(e){var a=e.data;return t(function(t){return{type:w,payload:t}}(new I(a.ID,a))),a}))},St=function(){var t=Z(),e=t.state,a=t.dispatch,i=e.studentsData,s=i.students,r=i.fetching,l=i.searchQuery;Object(n.useEffect)((function(){s.length||(Nt(a),xt(a))}),[]);var c=s.filter((function(t){return!t.draft}));return l&&(c=c.filter((function(t){return t.ID===parseInt(l,10)||-1!==[t.firstName,t.lastName].join(" ").toLowerCase().indexOf(l.toLowerCase())}))),{students:s,fetching:r,searchQuery:l,visibleStudents:c}},gt=function(){var t=Z(),e=t.state,a=t.dispatch;return{selectedStudentID:e.studentsData.selectedStudentID,addStudentDraft:function(){a({type:g})},updateStudent:function(t){return new Promise((function(e){(t.draft?It(a,t):Tt(a,t)).then((function(n){Promise.all(t.family.map((function(t){return new Promise((function(e){var i;i=t.draft?function(t,e,a){var n="".concat(yt,"/Students/").concat(e.ID,"/FamilyMembers");return _t.a.post(n,a).then((function(e){var a=e.data;return t(function(t){return{type:"ACTION_POST_FAMILY",payload:t}}(new x(a.ID,a))),a}))}(a,n,t):function(t,e){var a="".concat(yt,"/FamilyMembers/").concat(e.ID,"/");return _t.a.put(a,e).then((function(e){var a=e.data;return t({type:"ACTION_PUT_FAMILY",payload:new x(a.ID,a)}),a}))}(a,t),i.then((function(n){t.nationality?function(t,e,a){var n="".concat(yt,"/FamilyMembers/").concat(e.ID,"/Nationality/").concat(a.ID);return _t.a.put(n).then((function(a){t(function(t,e){return{type:"ACTION_PUT_FAMILY_NATIONALITY",payload:{nationality:t,familyID:e}}}(a.data.nationality||[],e.ID))}))}(a,n,t.nationality).then((function(){e(null)})):e(null)}))}))}))).then((function(){t.nationality?function(t,e,a){var n="".concat(yt,"/Students/").concat(e.ID,"/Nationality/").concat(a.ID);return _t.a.put(n).then((function(a){t($(a.data.nationality||[],e.ID))}))}(a,n,t.nationality).then((function(){e(null)})):e(null)}))}))}))}}},Ct=a(55),At=a.n(Ct);function Et(t){var e=t.disabled,a=t.submit,n=t.children,i=t.className,s=t.onClick,r=t.mini,l=t.error,c=t.form,o=t.title,d=void 0===o?void 0:o,f=[At.a.button,i];return r&&f.push(At.a.mini),l&&f.push(At.a.error),Object(u.jsx)("button",{title:d,type:a?"submit":"button",disabled:e,className:f.join(" "),onClick:s||void 0,form:c||void 0,children:n})}Et.defaultProps={className:"",disabled:!1,mini:!1,error:!1,submit:!1,onClick:void 0,form:void 0,title:void 0};var wt=Et,kt=a(68),Bt=a.n(kt);function Ft(){var t=gt().addStudentDraft;return Object(u.jsx)("div",{className:Bt.a.container,children:Object(u.jsx)(wt,{className:Bt.a.addButton,onClick:function(){t()},children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("i",{className:"lni lni-plus"}),"Add Student"]})})})}var Pt=i.a.memo(Ft),Rt=a(19),Lt=a.n(Rt);function Mt(t){var e,a=t.student,n=a.firstName,i=a.lastName,s=a.dateOfBirth,r=a.ID,l=a.approved,c=Z().dispatch,o=lt().isDisabled,d=["lni"];return!0===l?d.push("lni-checkmark-circle"):!1===l?d.push("lni-cross-circle"):d.push("lni-pencil-alt"),Object(u.jsxs)("div",{className:Lt.a.container,children:[Object(u.jsx)(m,{label:Object(u.jsx)("i",{className:d.join(" ")}),className:Lt.a.status}),Object(u.jsx)(m,{label:r,className:Lt.a.id}),Object(u.jsx)(m,{label:"".concat(n),className:Lt.a.name}),Object(u.jsx)(m,{label:i,className:Lt.a.name}),Object(u.jsx)(m,{label:s?(e=s,Object(p.a)(new Date(e),"dd-MM-yyyy")):"",className:Lt.a.dob}),Object(u.jsx)("div",{className:Lt.a.actions,children:Object(u.jsx)(wt,{onClick:function(){c({type:k,payload:r})},mini:!0,children:o?"View":"View/Edit"})})]})}var Ut=i.a.memo(Mt);function qt(){return Object(u.jsxs)("div",{className:Lt.a.titleContainer,children:[Object(u.jsx)(m,{label:"Status",className:Lt.a.status}),Object(u.jsx)(m,{label:"ID",className:Lt.a.id}),Object(u.jsx)(m,{label:"First Name",className:Lt.a.name}),Object(u.jsx)(m,{label:"Last Name",className:Lt.a.name}),Object(u.jsx)(m,{label:"Date of Birth",className:Lt.a.dob}),Object(u.jsx)("div",{className:Lt.a.actions,children:Object(u.jsx)(m,{label:"Actions",className:Lt.a.dob})})]})}var Yt=i.a.memo(qt),Gt=a(89),Qt=a.n(Gt);var Vt=function(){var t=St(),e=t.fetching,a=t.visibleStudents;return Object(u.jsxs)("div",{className:Qt.a.container,children:[Object(u.jsx)(Yt,{}),a.map((function(t){return Object(u.jsx)(Ut,{student:t},t.ID)})),a.length||e?null:"No Students there!!",Object(u.jsx)(Pt,{}),e?"...":null]})},Ht=a(3),Jt=function(){var t=Z().dispatch;return{hideModal:function(){t({type:C})}}},Wt=function(){var t=Z().state.studentsData.nationalities,e=t.map((function(t){return{value:t.ID,label:t.Title}}));return{nationalities:t,nationalityOptions:e}},Xt=function(){var t=Z(),e=t.state,a=t.dispatch,i=e.studentsData,s=i.students,r=i.selectedStudentID,l=s.find((function(t){return t.ID===r}))||new I(0);return Object(n.useEffect)((function(){null===r||!l||l.nationality||l.draft||function(t,e){var a="".concat(yt,"/Students/").concat(e,"/Nationality/");_t.a.get(a).then((function(a){t($(a.data.nationality||[],e))}))}(a,r)}),[r,s]),{student:l}},zt=a(56),Kt=a.n(zt);function Zt(t){var e=t.title,a=t.children,n=t.className,i=[Kt.a.block,n];return Object(u.jsxs)("div",{className:i.join(" "),children:[Object(u.jsx)("span",{className:Kt.a.title,children:e}),Object(u.jsx)("div",{className:Kt.a.body,children:a})]})}Zt.defaultProps={className:""};var $t=Zt,te=a(173),ee=a(90),ae=a.n(ee);function ne(t){var e=t.disabled,a=t.className,n=t.onChange,i=t.title,s=t.required,r=void 0!==s&&s,l=t.name,c=t.value;return Object(u.jsx)(te.a,{label:i,value:O(c),type:"date",InputLabelProps:{shrink:!0},disabled:e,className:[ae.a.datePicker,a].join(" "),onChange:n,required:r,name:l,fullWidth:!0,variant:"standard",placeholder:"tada",inputProps:{min:"1980-01-01",max:"2030-12-31",pattern:"\\d{2}/\\d{2}/\\d{4}"}})}ne.defaultProps={className:"",disabled:!1,required:!1};var ie=a(57),se=a.n(ie);function re(t){var e=t.title,a=void 0===e?null:e,n=t.children,i=t.className,s=[se.a.block,i];return Object(u.jsxs)("div",{className:s.join(" "),children:[a?Object(u.jsx)("span",{className:se.a.title,children:a}):null,Object(u.jsx)("div",{className:se.a.body,children:n})]})}re.defaultProps={className:"",title:null};var le=re,ce=a(91),oe=a.n(ce);function de(t){var e=t.disabled,a=t.className,n=t.onChange,i=t.title,s=t.type,r=t.required,l=void 0!==r&&r,c=t.name,o=t.value,d=o;if("date"===s&&o){var f=new Date(o).toISOString().split("T");d=Object(b.a)(f,1)[0]}var m={root:[oe.a.input,a].join(" ")};return Object(u.jsx)(te.a,{label:i,value:d,type:s,disabled:e,classes:m,onChange:n,required:l,name:c,fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!0}})}de.defaultProps={className:"",disabled:!1,type:"text",required:!1};var ue=de,fe=a(32),me=a.n(fe);function be(t){var e=t.open,a=t.title,n=t.children,i=t.className,s=t.onClose,r=[me.a.modal,i];return e?(r.push(me.a.open),Object(u.jsxs)("div",{className:r.join(" "),children:[Object(u.jsx)("div",{className:me.a.underlay}),Object(u.jsxs)("div",{className:me.a.container,children:[Object(u.jsxs)("div",{className:me.a.title,children:[a,Object(u.jsx)(wt,{onClick:s,className:me.a.close,children:Object(u.jsx)("i",{className:"lni lni-close"})})]}),Object(u.jsx)("div",{className:me.a.body,children:n})]})]})):null}be.defaultProps={className:""};var je=be,he=function(){var t=Z(),e=t.state,a=t.dispatch,i=e.studentsData,s=i.students,r=i.fetching,l=i.selectedStudentID,c=s.find((function(t){return t.ID===l})),o=Object(n.useState)(null),d=Object(b.a)(o,2),u=d[0],f=d[1];Object(n.useEffect)((function(){null===l||!c||c.family.length||c.draft||Dt(a,l),f(null)}),[l,s]);var m=c?c.family:[],j=u?m.find((function(t){return t.ID===u})):null;Object(n.useEffect)((function(){m.length?f(m[m.length-1].ID):f(null)}),[m.length]),Object(n.useEffect)((function(){}),[m]);return{family:m,fetching:r,addFamily:function(){a(function(t){return{type:R,payload:t||void 0}}())},selectedFamily:j,setSelectedFamilyID:f,selectedFamilyID:u,selectedStudent:c}},pe=a(69),ve=a.n(pe);function Oe(t){var e=t.disabled,a=he().addFamily;return Object(u.jsx)("div",{className:ve.a.container,children:Object(u.jsx)(wt,{className:ve.a.addButton,onClick:function(){a()},disabled:e,title:"Please complete the last family to add more",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("i",{className:"lni lni-plus"}),"Add Family Member"]})})})}var _e=i.a.memo(Oe),ye=a(92),Ne=a.n(ye);var xe=function(t){var e=t.family,a=t.markError,n=e.firstName,i=e.lastName,s=e.dateOfBirth,r=e.relationship,l=e.nationality,c=Wt(),o=c.nationalities,d=c.nationalityOptions,f=Z().dispatch,b=function(t){var a=t.target.name,n=t.target.value,i=n;"nationality"===a&&(i=o.find((function(t){return t.ID===parseInt(n,10)})));var s=Object(j.a)(Object(j.a)({},e),{},Object(Ht.a)({},a,i));f(et(s))},h=D(e).messages,p=lt(e.draft).isDisabled;return Object(u.jsxs)("div",{children:[Object(u.jsx)(m,{label:"Edit Family Member",className:Ne.a.title}),Object(u.jsx)(ue,{required:!0,title:"First Name",name:"firstName",onChange:b,value:n,disabled:p}),Object(u.jsx)(ue,{required:!0,title:"Last Name",name:"lastName",onChange:b,value:i,disabled:p}),Object(u.jsx)(bt,{required:!0,title:"Relationship",name:"relationship",onChange:b,value:r,options:N,disabled:p}),Object(u.jsx)(bt,{required:!0,title:"Nationality",name:"nationality",onChange:b,value:l&&l.ID,options:d,disabled:p}),Object(u.jsx)(ne,{title:"Date of Birth",onChange:function(t){if(t&&t.target.value){var a=Object(j.a)(Object(j.a)({},e),{},{dateOfBirth:t.target.value});f(et(a))}},value:s,name:"dateOfBirth",disabled:p}),h.length&&a?Object(u.jsx)(le,{children:h.join("; ")}):null]})},De=a(41),Ie=a.n(De);function Te(t){var e=t.family,a=t.onClick,n=t.error,i=e.firstName,s=e.lastName,r=e.ID,l=e.nationality,c=e.relationship,o=(l||{}).Title,d=void 0===o?"-":o,f=[Ie.a.container];return n&&f.push(Ie.a.error),Object(u.jsxs)("div",{className:f.join(" "),children:[Object(u.jsx)(m,{label:i?"".concat(i," ").concat(s):"-",className:Ie.a.name}),Object(u.jsx)(m,{label:c||"-",className:Ie.a.relationship}),Object(u.jsx)(m,{label:d||"-",className:Ie.a.nationality}),Object(u.jsx)(wt,{mini:!0,onClick:function(){a(r)},children:"View"})]})}var Se=i.a.memo(Te),ge=a(58),Ce=a.n(ge);var Ae=function(t){var e=t.markError,a=he(),n=a.family,i=a.fetching,s=a.setSelectedFamilyID,r=a.selectedFamily,l=a.selectedStudent,c=lt().isDisabled,o=l&&l.draft||!c,d=!n.find((function(t){return!D(t).valid}));return Object(u.jsxs)("div",{className:Ce.a.container,children:[Object(u.jsxs)("div",{className:Ce.a.list,children:[Object(u.jsx)(_e,{disabled:!d||!o}),n.map((function(t){return Object(u.jsx)(Se,{error:e&&!D(t).valid,family:t,onClick:s},t.ID)})),n.length?null:"No Family there!!",i?"...":null]}),r?Object(u.jsx)("div",{className:Ce.a.editor,children:Object(u.jsx)(xe,{family:r,markError:e})}):null]})},Ee=a(35),we=a.n(Ee);function ke(){var t=gt(),e=t.selectedStudentID,a=t.updateStudent,i=Jt().hideModal,s=Xt().student,r=Z().dispatch,l=Wt(),c=l.nationalityOptions,o=l.nationalities,d=Object(n.useState)([]),f=Object(b.a)(d,2),m=f[0],h=f[1],p=s.firstName,v=s.lastName,O=s.dateOfBirth,_=s.nationality,y=Object(n.useCallback)((function(t){t.preventDefault();var e=function(t){var e=[],a=[],n=!t.family.find((function(t){return!D(t)}));return t.firstName||(e.push("First Name cannot be Empty"),a.push(["firstName","First Name cannot be Empty"])),t.lastName||(e.push("Last Name cannot be Empty"),a.push(["lastName","Last Name cannot be Empty"])),t.dateOfBirth||(e.push("Date of birth is empty or not valid"),a.push(["dateOfBirth","Date of birth is empty or not valid"])),t.family.length||e.push("Add atleast one family member"),n||e.push("Family members are not valid"),{valid:!!t.firstName&&!!t.lastName&&!!t.dateOfBirth&&!!t.family.length&&n,messages:e,fields:a}}(s),n=e.valid,r=e.messages;n?a(s).then((function(){i()})):h(r)}),[s]),N=function(t){var e=t.target.name,a=t.target.value,n=a;"nationality"===e&&(n=o.find((function(t){return t.ID===parseInt(a,10)})));var i=Object(j.a)(Object(j.a)({},s),{},Object(Ht.a)({},e,n));r(tt(i))},x=lt(!!s.draft),I=x.isDisabled,T=x.isRegistar,S=null!==e,g="[PENDING]";g=!0===s.approved?"[APPROVED]":g,g=!1===s.approved?"[REJECTED]":g;var C="".concat(g=T?g:""," ").concat(s.draft?"Add Student":"Edit Student");return Object(u.jsx)(je,{open:S,onClose:function(){i()},title:C,children:Object(u.jsxs)("div",{className:we.a.form,children:[Object(u.jsx)("form",{id:"myform",onSubmit:y,children:Object(u.jsxs)("div",{className:we.a.container,children:[Object(u.jsx)(ue,{title:"First Name",name:"firstName",onChange:N,value:p,disabled:I}),Object(u.jsx)(ue,{title:"Last Name",name:"lastName",onChange:N,value:v,disabled:I}),Object(u.jsx)(bt,{required:!0,title:"Nationality",name:"nationality",onChange:N,value:_&&_.ID,options:c,disabled:I}),Object(u.jsx)(ne,{title:"Date of Birth",onChange:function(t){if(t&&t.target.value){var e=Object(j.a)(Object(j.a)({},s),{},{dateOfBirth:t.target.value});r(tt(e))}},value:O,name:"dateOfBirth",disabled:I})]})}),Object(u.jsx)($t,{title:"Family Members",children:Object(u.jsx)(Ae,{markError:!!m.length})}),Object(u.jsxs)("div",{className:we.a.actions,children:[m.length?Object(u.jsx)(le,{children:m.join("; ")}):null,Object(u.jsx)(wt,{submit:!0,className:we.a.button,form:"myform",children:"Save"}),T?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(wt,{className:we.a.button,onClick:function(){r(function(t){return{type:U,payload:t}}(s)),i()},children:"Approve"}),Object(u.jsx)(wt,{className:we.a.button,onClick:function(){r(function(t){return{type:q,payload:t}}(s)),i()},children:"Reject"})]}):null]})]})})}var Be=i.a.memo(ke);var Fe=function(){return Object(u.jsxs)("div",{className:c.a.app,children:[Object(u.jsxs)("div",{className:c.a.searchContainer,children:[Object(u.jsx)(m,{label:"Students APP",className:c.a.title}),Object(u.jsx)(rt,{}),Object(u.jsx)(vt,{})]}),Object(u.jsx)("div",{className:c.a.container,children:Object(u.jsx)(Vt,{})}),Object(u.jsx)(Be,{})]})};a(132);r.a.render(Object(u.jsx)(K,{children:Object(u.jsx)(Fe,{})}),document.getElementById("root"))},19:function(t,e,a){t.exports={titleContainer:"studentRow_titleContainer__2UKc4",container:"studentRow_container__2i_LP",status:"studentRow_status__tjeTn",id:"studentRow_id__2NKLv",name:"studentRow_name__3RPfH",dob:"studentRow_dob__wz56l",actions:"studentRow_actions__2Q7SV",buttonDelete:"studentRow_buttonDelete__1fwCR"}},32:function(t,e,a){t.exports={modal:"modal_modal__1MFiy",open:"modal_open__1n4-W",underlay:"modal_underlay__3jaBx",container:"modal_container__clBND",title:"modal_title__1b4vj",body:"modal_body__1AjZ6"}},35:function(t,e,a){t.exports={actions:"studentModal_actions__15xlK",button:"studentModal_button__DGK01",form:"studentModal_form__3hAE0",container:"studentModal_container__35wPX"}},41:function(t,e,a){t.exports={container:"familyRow_container__1h2gh",error:"familyRow_error__1zgNC",id:"familyRow_id__35uxI",name:"familyRow_name__k0rpk",relationship:"familyRow_relationship__2addB",nationality:"familyRow_nationality__1zPYw",dob:"familyRow_dob__1reVk"}},46:function(t,e,a){t.exports={app:"App_app__2ziFi",searchContainer:"App_searchContainer__GjdwS",container:"App_container__eSJ6i",title:"App_title__2oBiX"}},55:function(t,e,a){t.exports={button:"button_button__2E0F5",mini:"button_mini__3TJT6",error:"button_error__2WB5U"}},56:function(t,e,a){t.exports={block:"block_block__cHoCW",body:"block_body__2yeNa",title:"block_title__1lipq"}},57:function(t,e,a){t.exports={block:"errorBox_block__8BeM2",body:"errorBox_body__2-zH4",title:"errorBox_title__11hle"}},58:function(t,e,a){t.exports={container:"familyList_container__3xyRv",list:"familyList_list__TuX2H",editor:"familyList_editor__35LSa"}},65:function(t,e,a){t.exports={select:"select_select__2YKwj",label:"select_label__-4N7o"}},68:function(t,e,a){t.exports={container:"addStudentRow_container__2a3LF",addButton:"addStudentRow_addButton__2r79-"}},69:function(t,e,a){t.exports={container:"addFamilyRow_container__3O0aS",addButton:"addFamilyRow_addButton__3gm5o"}},82:function(t,e,a){t.exports={label:"label_label__1p9XO"}},86:function(t,e,a){t.exports={input:"SearchBox_input__3ryuD"}},88:function(t,e,a){t.exports={container:"selectUser_container__2X8Th"}},89:function(t,e,a){t.exports={container:"studentList_container__35QpG"}},90:function(t,e,a){t.exports={datePicker:"datePicker_datePicker__1Z396"}},91:function(t,e,a){t.exports={input:"input_input__2tOEp"}},92:function(t,e,a){t.exports={title:"familyEditor_title__XlC97"}}},[[133,1,2]]]);
//# sourceMappingURL=main.29736d9c.chunk.js.map